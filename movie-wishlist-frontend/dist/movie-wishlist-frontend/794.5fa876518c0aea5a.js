"use strict";(self.webpackChunkmovie_wishlist_frontend=self.webpackChunkmovie_wishlist_frontend||[]).push([[794],{794:(K,g,d)=>{d.r(g),d.d(g,{AuthModule:()=>B});var u=d(6895),s=d(433),m=d(1002),p=d(590),e=d(8256),v=d(263);function h(r,t){if(1&r&&(e.TgZ(0,"div",20),e._uU(1),e.qZA()),2&r){const n=e.oxw();e.xp6(1),e.hij(" ",n.error," ")}}function Z(r,t){1&r&&(e.TgZ(0,"div"),e._uU(1,"Username is required"),e.qZA())}function b(r,t){if(1&r&&(e.TgZ(0,"div",21),e.YNc(1,Z,2,0,"div",22),e.qZA()),2&r){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.f.username.errors.required)}}function x(r,t){1&r&&(e.TgZ(0,"div"),e._uU(1,"Password is required"),e.qZA())}function T(r,t){if(1&r&&(e.TgZ(0,"div",21),e.YNc(1,x,2,0,"div",22),e.qZA()),2&r){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.f.password.errors.required)}}function q(r,t){1&r&&e._UZ(0,"span",23)}const _=function(r){return{"is-invalid":r}};function C(r,t){if(1&r&&(e.TgZ(0,"div",25),e._uU(1),e.qZA()),2&r){const n=e.oxw();e.xp6(1),e.hij(" ",n.success," ")}}function I(r,t){if(1&r&&(e.TgZ(0,"div",26),e._uU(1),e.qZA()),2&r){const n=e.oxw();e.xp6(1),e.hij(" ",n.error," ")}}function U(r,t){1&r&&(e.TgZ(0,"div"),e._uU(1,"Username is required"),e.qZA())}function J(r,t){1&r&&(e.TgZ(0,"div"),e._uU(1,"Username must be at least 3 characters"),e.qZA())}function A(r,t){1&r&&(e.TgZ(0,"div"),e._uU(1,"Username must not exceed 20 characters"),e.qZA())}function Y(r,t){if(1&r&&(e.TgZ(0,"div",27),e.YNc(1,U,2,0,"div",28),e.YNc(2,J,2,0,"div",28),e.YNc(3,A,2,0,"div",28),e.qZA()),2&r){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.f.username.errors.required),e.xp6(1),e.Q6J("ngIf",n.f.username.errors.minlength),e.xp6(1),e.Q6J("ngIf",n.f.username.errors.maxlength)}}function Q(r,t){1&r&&(e.TgZ(0,"div"),e._uU(1,"Email is required"),e.qZA())}function N(r,t){1&r&&(e.TgZ(0,"div"),e._uU(1,"Email must be a valid email address"),e.qZA())}function P(r,t){if(1&r&&(e.TgZ(0,"div",27),e.YNc(1,Q,2,0,"div",28),e.YNc(2,N,2,0,"div",28),e.qZA()),2&r){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.f.email.errors.required),e.xp6(1),e.Q6J("ngIf",n.f.email.errors.email)}}function y(r,t){1&r&&(e.TgZ(0,"div"),e._uU(1,"Password is required"),e.qZA())}function R(r,t){1&r&&(e.TgZ(0,"div"),e._uU(1,"Password must be at least 6 characters"),e.qZA())}function L(r,t){1&r&&(e.TgZ(0,"div"),e._uU(1,"Password must not exceed 40 characters"),e.qZA())}function S(r,t){if(1&r&&(e.TgZ(0,"div",27),e.YNc(1,y,2,0,"div",28),e.YNc(2,R,2,0,"div",28),e.YNc(3,L,2,0,"div",28),e.qZA()),2&r){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.f.password.errors.required),e.xp6(1),e.Q6J("ngIf",n.f.password.errors.minlength),e.xp6(1),e.Q6J("ngIf",n.f.password.errors.maxlength)}}function k(r,t){1&r&&(e.TgZ(0,"div"),e._uU(1,"Confirm Password is required"),e.qZA())}function F(r,t){1&r&&(e.TgZ(0,"div"),e._uU(1,"Passwords must match"),e.qZA())}function M(r,t){if(1&r&&(e.TgZ(0,"div",27),e.YNc(1,k,2,0,"div",28),e.YNc(2,F,2,0,"div",28),e.qZA()),2&r){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.f.confirmPassword.errors.required),e.xp6(1),e.Q6J("ngIf",n.f.confirmPassword.errors.mustMatch)}}function O(r,t){1&r&&e._UZ(0,"span",29)}const f=function(r){return{"is-invalid":r}},j=[{path:"login",component:(()=>{const t=class{constructor(a,o,i,l){this.formBuilder=a,this.route=o,this.router=i,this.authService=l,this.loading=!1,this.submitted=!1,this.error="",this.returnUrl="/",this.authService.isLoggedIn()&&this.router.navigate(["/"])}ngOnInit(){this.loginForm=this.formBuilder.group({username:["",s.kI.required],password:["",s.kI.required]}),this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/"}get f(){return this.loginForm.controls}onSubmit(){this.submitted=!0,!this.loginForm.invalid&&(this.loading=!0,this.authService.login(this.f.username.value,this.f.password.value).pipe((0,p.P)()).subscribe({next:()=>{this.router.navigate([this.returnUrl])},error:a=>{this.error=a.error.message||"Invalid username or password",this.loading=!1}}))}};let r=t;return t.\u0275fac=function(o){return new(o||t)(e.Y36(s.qu),e.Y36(m.gz),e.Y36(m.F0),e.Y36(v.e))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-login"]],decls:29,vars:12,consts:[[1,"container"],[1,"row","justify-content-center","mt-5"],[1,"col-md-6"],[1,"card"],[1,"card-header","bg-primary","text-white"],[1,"mb-0"],[1,"card-body"],[3,"formGroup","ngSubmit"],["class","alert alert-danger",4,"ngIf"],[1,"mb-3"],["for","username",1,"form-label"],["type","text","formControlName","username","id","username",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","password",1,"form-label"],["type","password","formControlName","password","id","password",1,"form-control",3,"ngClass"],[1,"d-grid","gap-2"],[1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm me-1",4,"ngIf"],[1,"mt-3","text-center"],["routerLink","/auth/register"],[1,"alert","alert-danger"],[1,"invalid-feedback"],[4,"ngIf"],[1,"spinner-border","spinner-border-sm","me-1"]],template:function(o,i){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h4",5),e._uU(6,"Login"),e.qZA()(),e.TgZ(7,"div",6)(8,"form",7),e.NdJ("ngSubmit",function(){return i.onSubmit()}),e.YNc(9,h,2,1,"div",8),e.TgZ(10,"div",9)(11,"label",10),e._uU(12,"Username"),e.qZA(),e._UZ(13,"input",11),e.YNc(14,b,2,1,"div",12),e.qZA(),e.TgZ(15,"div",9)(16,"label",13),e._uU(17,"Password"),e.qZA(),e._UZ(18,"input",14),e.YNc(19,T,2,1,"div",12),e.qZA(),e.TgZ(20,"div",15)(21,"button",16),e.YNc(22,q,1,0,"span",17),e._uU(23," Login "),e.qZA()(),e.TgZ(24,"div",18)(25,"p"),e._uU(26,"Don't have an account? "),e.TgZ(27,"a",19),e._uU(28,"Register here"),e.qZA()()()()()()()()()),2&o&&(e.xp6(8),e.Q6J("formGroup",i.loginForm),e.xp6(1),e.Q6J("ngIf",i.error),e.xp6(4),e.Q6J("ngClass",e.VKq(8,_,i.submitted&&i.f.username.errors)),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.username.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(10,_,i.submitted&&i.f.password.errors)),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.password.errors),e.xp6(2),e.Q6J("disabled",i.loading),e.xp6(1),e.Q6J("ngIf",i.loading))},dependencies:[u.mk,u.O5,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,m.rH],styles:[".card[_ngcontent-%COMP%]{box-shadow:0 4px 8px #0000001a}.card-header[_ngcontent-%COMP%]{border-radius:4px 4px 0 0}.btn-primary[_ngcontent-%COMP%]{transition:all .3s ease}.btn-primary[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 8px #0003}"]}),r})()},{path:"register",component:(()=>{const t=class{constructor(a,o,i){this.formBuilder=a,this.router=o,this.authService=i,this.loading=!1,this.submitted=!1,this.error="",this.success="",this.authService.isLoggedIn()&&this.router.navigate(["/"])}ngOnInit(){this.registerForm=this.formBuilder.group({username:["",[s.kI.required,s.kI.minLength(3),s.kI.maxLength(20)]],email:["",[s.kI.required,s.kI.email]],password:["",[s.kI.required,s.kI.minLength(6),s.kI.maxLength(40)]],confirmPassword:["",s.kI.required]},{validator:this.mustMatch("password","confirmPassword")})}mustMatch(a,o){return i=>{const c=i.controls[o];c.errors&&!c.errors.mustMatch||c.setErrors(i.controls[a].value!==c.value?{mustMatch:!0}:null)}}get f(){return this.registerForm.controls}onSubmit(){this.submitted=!0,this.error="",this.success="",!this.registerForm.invalid&&(this.loading=!0,this.authService.register(this.f.username.value,this.f.email.value,this.f.password.value).pipe((0,p.P)()).subscribe({next:()=>{this.success="Registration successful",this.loading=!1,setTimeout(()=>{this.router.navigate(["/auth/login"])},2e3)},error:a=>{this.error=a.error.message||"Registration failed",this.loading=!1}}))}};let r=t;return t.\u0275fac=function(o){return new(o||t)(e.Y36(s.qu),e.Y36(m.F0),e.Y36(v.e))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-register"]],decls:40,vars:21,consts:[[1,"container"],[1,"row","justify-content-center","mt-5"],[1,"col-md-6"],[1,"card"],[1,"card-header","bg-primary","text-white"],[1,"mb-0"],[1,"card-body"],["class","alert alert-success",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"mb-3"],["for","username",1,"form-label"],["type","text","formControlName","username","id","username",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","email",1,"form-label"],["type","email","formControlName","email","id","email",1,"form-control",3,"ngClass"],["for","password",1,"form-label"],["type","password","formControlName","password","id","password",1,"form-control",3,"ngClass"],["for","confirmPassword",1,"form-label"],["type","password","formControlName","confirmPassword","id","confirmPassword",1,"form-control",3,"ngClass"],[1,"d-grid","gap-2"],[1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm me-1",4,"ngIf"],[1,"mt-3","text-center"],["routerLink","/auth/login"],[1,"alert","alert-success"],[1,"alert","alert-danger"],[1,"invalid-feedback"],[4,"ngIf"],[1,"spinner-border","spinner-border-sm","me-1"]],template:function(o,i){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h4",5),e._uU(6,"Register"),e.qZA()(),e.TgZ(7,"div",6),e.YNc(8,C,2,1,"div",7),e.YNc(9,I,2,1,"div",8),e.TgZ(10,"form",9),e.NdJ("ngSubmit",function(){return i.onSubmit()}),e.TgZ(11,"div",10)(12,"label",11),e._uU(13,"Username"),e.qZA(),e._UZ(14,"input",12),e.YNc(15,Y,4,3,"div",13),e.qZA(),e.TgZ(16,"div",10)(17,"label",14),e._uU(18,"Email"),e.qZA(),e._UZ(19,"input",15),e.YNc(20,P,3,2,"div",13),e.qZA(),e.TgZ(21,"div",10)(22,"label",16),e._uU(23,"Password"),e.qZA(),e._UZ(24,"input",17),e.YNc(25,S,4,3,"div",13),e.qZA(),e.TgZ(26,"div",10)(27,"label",18),e._uU(28,"Confirm Password"),e.qZA(),e._UZ(29,"input",19),e.YNc(30,M,3,2,"div",13),e.qZA(),e.TgZ(31,"div",20)(32,"button",21),e.YNc(33,O,1,0,"span",22),e._uU(34," Register "),e.qZA()(),e.TgZ(35,"div",23)(36,"p"),e._uU(37,"Already have an account? "),e.TgZ(38,"a",24),e._uU(39,"Login here"),e.qZA()()()()()()()()()),2&o&&(e.xp6(8),e.Q6J("ngIf",i.success),e.xp6(1),e.Q6J("ngIf",i.error),e.xp6(1),e.Q6J("formGroup",i.registerForm),e.xp6(4),e.Q6J("ngClass",e.VKq(13,f,i.submitted&&i.f.username.errors)),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.username.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(15,f,i.submitted&&i.f.email.errors)),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.email.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(17,f,i.submitted&&i.f.password.errors)),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.password.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(19,f,i.submitted&&i.f.confirmPassword.errors)),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.confirmPassword.errors),e.xp6(2),e.Q6J("disabled",i.loading),e.xp6(1),e.Q6J("ngIf",i.loading))},dependencies:[u.mk,u.O5,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,m.rH],styles:[".card[_ngcontent-%COMP%]{box-shadow:0 4px 8px #0000001a}.card-header[_ngcontent-%COMP%]{border-radius:4px 4px 0 0}.btn-primary[_ngcontent-%COMP%]{transition:all .3s ease}.btn-primary[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 8px #0003}"]}),r})()}];let B=(()=>{const t=class{};let r=t;return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[u.ez,s.UX,m.Bz.forChild(j)]}),r})()}}]);