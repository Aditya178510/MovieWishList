{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../core/services/movie.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nfunction MovieListComponent_div_0_div_1_img_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 16);\n  }\n  if (rf & 2) {\n    const movie_r3 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"src\", movie_r3.posterUrl, i0.ɵɵsanitizeUrl)(\"alt\", movie_r3.title);\n  }\n}\nfunction MovieListComponent_div_0_div_1_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 17)(1, \"i\", 18);\n    i0.ɵɵtext(2, \"movie\");\n    i0.ɵɵelementEnd()();\n  }\n}\nconst _c0 = function (a0, a1) {\n  return {\n    \"wishlist\": a0,\n    \"watched\": a1\n  };\n};\nfunction MovieListComponent_div_0_div_1_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 19)(1, \"span\", 20);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const movie_r3 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(2, _c0, movie_r3.status === \"WISHLIST\", movie_r3.status === \"WATCHED\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(movie_r3.status);\n  }\n}\nfunction MovieListComponent_div_0_div_1_p_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 21);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const movie_r3 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(movie_r3.releaseYear);\n  }\n}\nfunction MovieListComponent_div_0_div_1_p_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 22);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const movie_r3 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(movie_r3.genre);\n  }\n}\nconst _c1 = function (a0, a1) {\n  return {\n    \"filled\": a0,\n    \"half-filled\": a1\n  };\n};\nfunction MovieListComponent_div_0_div_1_div_10_i_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"i\", 27);\n    i0.ɵɵtext(1, \" star \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const star_r17 = ctx.$implicit;\n    const movie_r3 = i0.ɵɵnextContext(2).$implicit;\n    const ctx_r16 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(1, _c1, star_r17 <= movie_r3.rating / 2, star_r17 === ctx_r16.ceil(movie_r3.rating / 2) && movie_r3.rating % 2 !== 0));\n  }\n}\nconst _c2 = function () {\n  return [1, 2, 3, 4, 5];\n};\nfunction MovieListComponent_div_0_div_1_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 23)(1, \"span\", 24);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 25);\n    i0.ɵɵtemplate(4, MovieListComponent_div_0_div_1_div_10_i_4_Template, 2, 4, \"i\", 26);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const movie_r3 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", movie_r3.rating, \"/10\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpureFunction0(2, _c2));\n  }\n}\nfunction MovieListComponent_div_0_div_1_div_11_span_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 32)(1, \"i\", 18);\n    i0.ɵɵtext(2, \"comment\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const movie_r3 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(movie_r3.commentsCount);\n  }\n}\nconst _c3 = function (a0) {\n  return {\n    \"liked\": a0\n  };\n};\nfunction MovieListComponent_div_0_div_1_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r24 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 28)(1, \"span\", 29)(2, \"i\", 30);\n    i0.ɵɵlistener(\"click\", function MovieListComponent_div_0_div_1_div_11_Template_i_click_2_listener($event) {\n      i0.ɵɵrestoreView(_r24);\n      const movie_r3 = i0.ɵɵnextContext().$implicit;\n      const ctx_r22 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r22.likeMovie(movie_r3.id, $event));\n    });\n    i0.ɵɵtext(3, \" favorite \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"span\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(6, MovieListComponent_div_0_div_1_div_11_span_6_Template, 5, 1, \"span\", 31);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const movie_r3 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(3, _c3, movie_r3.userLiked));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(movie_r3.likesCount || 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", movie_r3.commentsCount !== undefined);\n  }\n}\nfunction MovieListComponent_div_0_div_1_div_12_button_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r33 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 39);\n    i0.ɵɵlistener(\"click\", function MovieListComponent_div_0_div_1_div_12_button_1_Template_button_click_0_listener($event) {\n      i0.ɵɵrestoreView(_r33);\n      const movie_r3 = i0.ɵɵnextContext(2).$implicit;\n      const ctx_r31 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r31.editMovie(movie_r3.id, $event));\n    });\n    i0.ɵɵelementStart(1, \"i\", 18);\n    i0.ɵɵtext(2, \"edit\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction MovieListComponent_div_0_div_1_div_12_button_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r36 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 40);\n    i0.ɵɵlistener(\"click\", function MovieListComponent_div_0_div_1_div_12_button_2_Template_button_click_0_listener($event) {\n      i0.ɵɵrestoreView(_r36);\n      const movie_r3 = i0.ɵɵnextContext(2).$implicit;\n      const ctx_r34 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r34.deleteMovie(movie_r3.id, $event));\n    });\n    i0.ɵɵelementStart(1, \"i\", 18);\n    i0.ɵɵtext(2, \"delete\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction MovieListComponent_div_0_div_1_div_12_button_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r39 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 41);\n    i0.ɵɵlistener(\"click\", function MovieListComponent_div_0_div_1_div_12_button_3_Template_button_click_0_listener($event) {\n      i0.ɵɵrestoreView(_r39);\n      const movie_r3 = i0.ɵɵnextContext(2).$implicit;\n      const ctx_r37 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r37.markAsWatched(movie_r3.id, $event));\n    });\n    i0.ɵɵelementStart(1, \"i\", 18);\n    i0.ɵɵtext(2, \"visibility\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction MovieListComponent_div_0_div_1_div_12_button_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r42 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 42);\n    i0.ɵɵlistener(\"click\", function MovieListComponent_div_0_div_1_div_12_button_4_Template_button_click_0_listener($event) {\n      i0.ɵɵrestoreView(_r42);\n      const movie_r3 = i0.ɵɵnextContext(2).$implicit;\n      const ctx_r40 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r40.addToWishlist(movie_r3.id, $event));\n    });\n    i0.ɵɵelementStart(1, \"i\", 18);\n    i0.ɵɵtext(2, \"bookmark\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction MovieListComponent_div_0_div_1_div_12_button_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r45 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 43);\n    i0.ɵɵlistener(\"click\", function MovieListComponent_div_0_div_1_div_12_button_5_Template_button_click_0_listener($event) {\n      i0.ɵɵrestoreView(_r45);\n      const movie_r3 = i0.ɵɵnextContext(2).$implicit;\n      const ctx_r43 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r43.addNewMovie(movie_r3, $event));\n    });\n    i0.ɵɵelementStart(1, \"i\", 18);\n    i0.ɵɵtext(2, \"add\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction MovieListComponent_div_0_div_1_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 33);\n    i0.ɵɵtemplate(1, MovieListComponent_div_0_div_1_div_12_button_1_Template, 3, 0, \"button\", 34);\n    i0.ɵɵtemplate(2, MovieListComponent_div_0_div_1_div_12_button_2_Template, 3, 0, \"button\", 35);\n    i0.ɵɵtemplate(3, MovieListComponent_div_0_div_1_div_12_button_3_Template, 3, 0, \"button\", 36);\n    i0.ɵɵtemplate(4, MovieListComponent_div_0_div_1_div_12_button_4_Template, 3, 0, \"button\", 37);\n    i0.ɵɵtemplate(5, MovieListComponent_div_0_div_1_div_12_button_5_Template, 3, 0, \"button\", 38);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const movie_r3 = i0.ɵɵnextContext().$implicit;\n    const ctx_r11 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r11.isDiscover);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r11.isDiscover);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r11.isWishlist || ctx_r11.isDiscover && !movie_r3.status);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r11.isWatched || ctx_r11.isDiscover && !movie_r3.status);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r11.isDiscover && !movie_r3.id);\n  }\n}\nfunction MovieListComponent_div_0_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r48 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵlistener(\"click\", function MovieListComponent_div_0_div_1_Template_div_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r48);\n      const movie_r3 = restoredCtx.$implicit;\n      const ctx_r47 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r47.viewDetails(movie_r3.id));\n    });\n    i0.ɵɵelementStart(1, \"div\", 5);\n    i0.ɵɵtemplate(2, MovieListComponent_div_0_div_1_img_2_Template, 1, 2, \"img\", 6);\n    i0.ɵɵtemplate(3, MovieListComponent_div_0_div_1_div_3_Template, 3, 0, \"div\", 7);\n    i0.ɵɵtemplate(4, MovieListComponent_div_0_div_1_div_4_Template, 3, 5, \"div\", 8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 9)(6, \"h3\", 10);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(8, MovieListComponent_div_0_div_1_p_8_Template, 2, 1, \"p\", 11);\n    i0.ɵɵtemplate(9, MovieListComponent_div_0_div_1_p_9_Template, 2, 1, \"p\", 12);\n    i0.ɵɵtemplate(10, MovieListComponent_div_0_div_1_div_10_Template, 5, 3, \"div\", 13);\n    i0.ɵɵtemplate(11, MovieListComponent_div_0_div_1_div_11_Template, 7, 5, \"div\", 14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(12, MovieListComponent_div_0_div_1_div_12_Template, 6, 5, \"div\", 15);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const movie_r3 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", movie_r3.posterUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !movie_r3.posterUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", movie_r3.status);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(movie_r3.title);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", movie_r3.releaseYear);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", movie_r3.genre);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", movie_r3.rating);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r2.isDiscover);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.showActions);\n  }\n}\nfunction MovieListComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 2);\n    i0.ɵɵtemplate(1, MovieListComponent_div_0_div_1_Template, 13, 9, \"div\", 3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.movies);\n  }\n}\nfunction MovieListComponent_div_1_ng_container_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1, \"No movies in your wishlist\");\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction MovieListComponent_div_1_ng_container_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1, \"No watched movies\");\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction MovieListComponent_div_1_ng_container_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1, \"No movies found\");\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction MovieListComponent_div_1_ng_container_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1, \"No movies available\");\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction MovieListComponent_div_1_ng_container_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1, \"Add movies to your wishlist to see them here\");\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction MovieListComponent_div_1_ng_container_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1, \"Mark movies as watched to see them here\");\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction MovieListComponent_div_1_ng_container_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1, \"Try searching for movies\");\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction MovieListComponent_div_1_ng_container_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1, \"No movies found\");\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction MovieListComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 44)(1, \"i\", 18);\n    i0.ɵɵtext(2, \"movie_filter\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"h3\");\n    i0.ɵɵtemplate(4, MovieListComponent_div_1_ng_container_4_Template, 2, 0, \"ng-container\", 45);\n    i0.ɵɵtemplate(5, MovieListComponent_div_1_ng_container_5_Template, 2, 0, \"ng-container\", 45);\n    i0.ɵɵtemplate(6, MovieListComponent_div_1_ng_container_6_Template, 2, 0, \"ng-container\", 45);\n    i0.ɵɵtemplate(7, MovieListComponent_div_1_ng_container_7_Template, 2, 0, \"ng-container\", 45);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"p\");\n    i0.ɵɵtemplate(9, MovieListComponent_div_1_ng_container_9_Template, 2, 0, \"ng-container\", 45);\n    i0.ɵɵtemplate(10, MovieListComponent_div_1_ng_container_10_Template, 2, 0, \"ng-container\", 45);\n    i0.ɵɵtemplate(11, MovieListComponent_div_1_ng_container_11_Template, 2, 0, \"ng-container\", 45);\n    i0.ɵɵtemplate(12, MovieListComponent_div_1_ng_container_12_Template, 2, 0, \"ng-container\", 45);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.isWishlist);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.isWatched);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.isDiscover);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r1.isWishlist && !ctx_r1.isWatched && !ctx_r1.isDiscover);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.isWishlist);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.isWatched);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.isDiscover);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r1.isWishlist && !ctx_r1.isWatched && !ctx_r1.isDiscover);\n  }\n}\nexport let MovieListComponent = /*#__PURE__*/(() => {\n  class MovieListComponent {\n    constructor(movieService, router) {\n      this.movieService = movieService;\n      this.router = router;\n      this.movies = [];\n      this.showActions = true;\n      this.isWishlist = false;\n      this.isWatched = false;\n      this.isDiscover = false;\n    }\n    ngOnInit() {}\n    ceil(value) {\n      return Math.ceil(value);\n    }\n    viewDetails(id) {\n      this.router.navigate(['/movies/detail', id]);\n    }\n    editMovie(id, event) {\n      event.stopPropagation();\n      this.router.navigate(['/movies/edit', id]);\n    }\n    deleteMovie(id, event) {\n      event.stopPropagation();\n      if (confirm('Are you sure you want to delete this movie?')) {\n        this.movieService.deleteMovie(id).subscribe(() => {\n          this.movies = this.movies.filter(movie => movie.id !== id);\n        });\n      }\n    }\n    markAsWatched(id, event) {\n      event.stopPropagation();\n      const movie = this.movies.find(m => m.id === id);\n      if (movie) {\n        this.movieService.markAsWatched(id, movie.rating, movie.review).subscribe(updated => {\n          if (this.isWishlist) {\n            this.movies = this.movies.filter(movie => movie.id !== id);\n          } else {\n            const index = this.movies.findIndex(m => m.id === id);\n            if (index !== -1) {\n              this.movies[index] = {\n                ...movie,\n                status: 'WATCHED'\n              };\n            }\n          }\n        });\n      }\n    }\n    addToWishlist(id, event) {\n      event.stopPropagation();\n      const movie = this.movies.find(m => m.id === id);\n      if (movie) {\n        const updatedMovie = {\n          ...movie,\n          status: 'WISHLIST'\n        };\n        this.movieService.updateMovie(id, updatedMovie).subscribe(() => {\n          if (this.isWatched) {\n            this.movies = this.movies.filter(movie => movie.id !== id);\n          } else {\n            const index = this.movies.findIndex(m => m.id === id);\n            if (index !== -1) {\n              this.movies[index] = {\n                ...updatedMovie\n              };\n            }\n          }\n        });\n      }\n    }\n    addNewMovie(movie, event) {\n      event.stopPropagation();\n      const newMovie = {\n        id: 0,\n        title: movie.title,\n        releaseYear: new Date(movie.release_date).getFullYear(),\n        posterUrl: movie.poster_path ? `https://image.tmdb.org/t/p/w500${movie.poster_path}` : '',\n        status: 'WISHLIST',\n        genre: movie.genres ? movie.genres.map(g => g.name).join(', ') : '',\n        runtime: movie.runtime || 0,\n        rating: undefined,\n        review: undefined,\n        userId: 0,\n        username: '',\n        likesCount: 0,\n        commentsCount: 0,\n        userLiked: false\n      };\n      this.movieService.addMovie(newMovie).subscribe(addedMovie => {\n        if (this.isWishlist) {\n          this.movies.push(addedMovie);\n        }\n        alert('Movie added to wishlist!');\n      });\n    }\n    likeMovie(id, event) {\n      event.stopPropagation();\n      const movie = this.movies.find(m => m.id === id);\n      if (movie) {\n        if (movie.userLiked) {\n          this.movieService.unlikeMovie(id).subscribe(() => {\n            const index = this.movies.findIndex(m => m.id === id);\n            if (index !== -1) {\n              this.movies[index] = {\n                ...movie,\n                userLiked: false,\n                likesCount: (movie.likesCount || 0) - 1\n              };\n            }\n          });\n        } else {\n          this.movieService.likeMovie(id).subscribe(() => {\n            const index = this.movies.findIndex(m => m.id === id);\n            if (index !== -1) {\n              this.movies[index] = {\n                ...movie,\n                userLiked: true,\n                likesCount: (movie.likesCount || 0) + 1\n              };\n            }\n          });\n        }\n      }\n    }\n    static {\n      this.ɵfac = function MovieListComponent_Factory(t) {\n        return new (t || MovieListComponent)(i0.ɵɵdirectiveInject(i1.MovieService), i0.ɵɵdirectiveInject(i2.Router));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: MovieListComponent,\n        selectors: [[\"app-movie-list\"]],\n        inputs: {\n          movies: \"movies\",\n          showActions: \"showActions\",\n          isWishlist: \"isWishlist\",\n          isWatched: \"isWatched\",\n          isDiscover: \"isDiscover\"\n        },\n        decls: 2,\n        vars: 2,\n        consts: [[\"class\", \"movie-grid\", 4, \"ngIf\"], [\"class\", \"empty-state\", 4, \"ngIf\"], [1, \"movie-grid\"], [\"class\", \"movie-card\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"movie-card\", 3, \"click\"], [1, \"movie-poster\"], [3, \"src\", \"alt\", 4, \"ngIf\"], [\"class\", \"no-poster\", 4, \"ngIf\"], [\"class\", \"movie-status\", 4, \"ngIf\"], [1, \"movie-info\"], [1, \"movie-title\"], [\"class\", \"movie-year\", 4, \"ngIf\"], [\"class\", \"movie-genre\", 4, \"ngIf\"], [\"class\", \"movie-rating\", 4, \"ngIf\"], [\"class\", \"movie-social\", 4, \"ngIf\"], [\"class\", \"movie-actions\", 4, \"ngIf\"], [3, \"src\", \"alt\"], [1, \"no-poster\"], [1, \"material-icons\"], [1, \"movie-status\"], [1, \"badge\", 3, \"ngClass\"], [1, \"movie-year\"], [1, \"movie-genre\"], [1, \"movie-rating\"], [1, \"rating-value\"], [1, \"rating-stars\"], [\"class\", \"material-icons\", 3, \"ngClass\", 4, \"ngFor\", \"ngForOf\"], [1, \"material-icons\", 3, \"ngClass\"], [1, \"movie-social\"], [1, \"likes\"], [1, \"material-icons\", 3, \"ngClass\", \"click\"], [\"class\", \"comments\", 4, \"ngIf\"], [1, \"comments\"], [1, \"movie-actions\"], [\"class\", \"btn-action edit\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"btn-action delete\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"btn-action watched\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"btn-action wishlist\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"btn-action add\", 3, \"click\", 4, \"ngIf\"], [1, \"btn-action\", \"edit\", 3, \"click\"], [1, \"btn-action\", \"delete\", 3, \"click\"], [1, \"btn-action\", \"watched\", 3, \"click\"], [1, \"btn-action\", \"wishlist\", 3, \"click\"], [1, \"btn-action\", \"add\", 3, \"click\"], [1, \"empty-state\"], [4, \"ngIf\"]],\n        template: function MovieListComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵtemplate(0, MovieListComponent_div_0_Template, 2, 1, \"div\", 0);\n            i0.ɵɵtemplate(1, MovieListComponent_div_1_Template, 13, 8, \"div\", 1);\n          }\n          if (rf & 2) {\n            i0.ɵɵproperty(\"ngIf\", ctx.movies && ctx.movies.length > 0);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", !ctx.movies || ctx.movies.length === 0);\n          }\n        },\n        dependencies: [i3.NgClass, i3.NgForOf, i3.NgIf],\n        styles: [\".movie-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:20px;margin:20px 0}.movie-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;box-shadow:0 2px 10px #0000001a;overflow:hidden;transition:transform .3s ease,box-shadow .3s ease;position:relative;cursor:pointer}.movie-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 5px 15px #0003}.movie-poster[_ngcontent-%COMP%]{position:relative;height:300px;overflow:hidden}.movie-poster[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:transform .3s ease}.movie-card[_ngcontent-%COMP%]:hover   .movie-poster[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:scale(1.05)}.no-poster[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100%;background-color:#f0f0f0}.no-poster[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:48px;color:#999}.movie-status[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px}.badge[_ngcontent-%COMP%]{padding:5px 10px;border-radius:4px;font-size:12px;font-weight:700;text-transform:lowercase}.badge.wishlist[_ngcontent-%COMP%]{background-color:#ff9800;color:#fff}.badge.watched[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.movie-info[_ngcontent-%COMP%]{padding:15px}.movie-title[_ngcontent-%COMP%]{margin:0 0 5px;font-size:16px;font-weight:700;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.movie-year[_ngcontent-%COMP%], .movie-genre[_ngcontent-%COMP%]{margin:0 0 5px;font-size:14px;color:#666}.movie-genre[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.movie-rating[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:5px}.rating-value[_ngcontent-%COMP%]{font-weight:700;margin-right:10px}.rating-stars[_ngcontent-%COMP%]{display:flex}.rating-stars[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#ddd;font-size:18px}.rating-stars[_ngcontent-%COMP%]   i.filled[_ngcontent-%COMP%]{color:#ffc107}.rating-stars[_ngcontent-%COMP%]   i.half-filled[_ngcontent-%COMP%]{position:relative}.rating-stars[_ngcontent-%COMP%]   i.half-filled[_ngcontent-%COMP%]:after{content:\\\"star_half\\\";position:absolute;top:0;left:0;color:#ffc107}.movie-social[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px}.likes[_ngcontent-%COMP%], .comments[_ngcontent-%COMP%]{display:flex;align-items:center}.likes[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .comments[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px;margin-right:5px;color:#999}.likes[_ngcontent-%COMP%]   i.liked[_ngcontent-%COMP%]{color:#f44336}.movie-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-around;padding:10px;background-color:#f9f9f9;border-top:1px solid #eee}.btn-action[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;padding:5px;border-radius:50%;transition:background-color .3s ease}.btn-action[_ngcontent-%COMP%]:hover{background-color:#0000001a}.btn-action[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}.edit[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#2196f3}.delete[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#f44336}.watched[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#4caf50}.wishlist[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#ff9800}.add[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#9c27b0}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:50px 20px;text-align:center}.empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:64px;color:#ddd;margin-bottom:20px}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 10px;color:#666}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#999}\"]\n      });\n    }\n  }\n  return MovieListComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}