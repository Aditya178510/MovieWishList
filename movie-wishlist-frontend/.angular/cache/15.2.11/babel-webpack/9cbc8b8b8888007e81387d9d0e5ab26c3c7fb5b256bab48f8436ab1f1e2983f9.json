{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../../../core/services/movie.service\";\nimport * as i4 from \"@angular/common\";\nfunction MovieFormComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 5)(1, \"div\", 6)(2, \"span\", 7);\n    i0.ɵɵtext(3, \"Loading...\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction MovieFormComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.error, \" \");\n  }\n}\nfunction MovieFormComponent_div_6_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 36);\n    i0.ɵɵtext(1, \" Title is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MovieFormComponent_div_6_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 36);\n    i0.ɵɵtext(1, \" Title cannot exceed 100 characters. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MovieFormComponent_div_6_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 36);\n    i0.ɵɵtext(1, \" Genre cannot exceed 100 characters. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MovieFormComponent_div_6_div_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 36);\n    i0.ɵɵtext(1, \" Release year must be 1900 or later. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MovieFormComponent_div_6_div_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 36);\n    i0.ɵɵtext(1, \" Release year cannot be more than 5 years in the future. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MovieFormComponent_div_6_div_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 36);\n    i0.ɵɵtext(1, \" Runtime must be at least 1 minute. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MovieFormComponent_div_6_div_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 36);\n    i0.ɵɵtext(1, \" Runtime cannot exceed 999 minutes. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MovieFormComponent_div_6_div_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 36);\n    i0.ɵɵtext(1, \" Poster URL cannot exceed 255 characters. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MovieFormComponent_div_6_div_34_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 37);\n    i0.ɵɵelement(1, \"img\", 38);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r11 = i0.ɵɵnextContext(2);\n    let tmp_0_0;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", (tmp_0_0 = ctx_r11.movieForm.get(\"posterUrl\")) == null ? null : tmp_0_0.value, i0.ɵɵsanitizeUrl);\n  }\n}\nfunction MovieFormComponent_div_6_div_43_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 36);\n    i0.ɵɵtext(1, \" Status is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MovieFormComponent_div_6_div_44_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 36);\n    i0.ɵɵtext(1, \" Rating must be at least 1. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MovieFormComponent_div_6_div_44_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 36);\n    i0.ɵɵtext(1, \" Rating cannot exceed 10. \");\n    i0.ɵɵelementEnd();\n  }\n}\nconst _c0 = function (a0) {\n  return {\n    \"is-invalid\": a0\n  };\n};\nfunction MovieFormComponent_div_6_div_44_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14)(1, \"label\", 39);\n    i0.ɵɵtext(2, \"Rating (1-10)\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"input\", 40);\n    i0.ɵɵtemplate(4, MovieFormComponent_div_6_div_44_div_4_Template, 2, 0, \"div\", 17);\n    i0.ɵɵtemplate(5, MovieFormComponent_div_6_div_44_div_5_Template, 2, 0, \"div\", 17);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r13 = i0.ɵɵnextContext(2);\n    let tmp_0_0;\n    let tmp_1_0;\n    let tmp_2_0;\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(3, _c0, ((tmp_0_0 = ctx_r13.movieForm.get(\"rating\")) == null ? null : tmp_0_0.invalid) && ((tmp_0_0 = ctx_r13.movieForm.get(\"rating\")) == null ? null : tmp_0_0.touched)));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_1_0 = ctx_r13.movieForm.get(\"rating\")) == null ? null : tmp_1_0.errors == null ? null : tmp_1_0.errors[\"min\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_2_0 = ctx_r13.movieForm.get(\"rating\")) == null ? null : tmp_2_0.errors == null ? null : tmp_2_0.errors[\"max\"]);\n  }\n}\nfunction MovieFormComponent_div_6_div_45_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 36);\n    i0.ɵɵtext(1, \" Review cannot exceed 1000 characters. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MovieFormComponent_div_6_div_45_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14)(1, \"label\", 41);\n    i0.ɵɵtext(2, \"Review\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"textarea\", 42);\n    i0.ɵɵtemplate(4, MovieFormComponent_div_6_div_45_div_4_Template, 2, 0, \"div\", 17);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r14 = i0.ɵɵnextContext(2);\n    let tmp_0_0;\n    let tmp_1_0;\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(2, _c0, ((tmp_0_0 = ctx_r14.movieForm.get(\"review\")) == null ? null : tmp_0_0.invalid) && ((tmp_0_0 = ctx_r14.movieForm.get(\"review\")) == null ? null : tmp_0_0.touched)));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_1_0 = ctx_r14.movieForm.get(\"review\")) == null ? null : tmp_1_0.errors == null ? null : tmp_1_0.errors[\"maxlength\"]);\n  }\n}\nfunction MovieFormComponent_div_6_span_50_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"span\", 43);\n  }\n}\nfunction MovieFormComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r20 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 9)(1, \"div\", 10)(2, \"form\", 11);\n    i0.ɵɵlistener(\"ngSubmit\", function MovieFormComponent_div_6_Template_form_ngSubmit_2_listener() {\n      i0.ɵɵrestoreView(_r20);\n      const ctx_r19 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r19.onSubmit());\n    });\n    i0.ɵɵelementStart(3, \"div\", 12)(4, \"div\", 13)(5, \"div\", 14)(6, \"label\", 15);\n    i0.ɵɵtext(7, \"Title *\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(8, \"input\", 16);\n    i0.ɵɵtemplate(9, MovieFormComponent_div_6_div_9_Template, 2, 0, \"div\", 17);\n    i0.ɵɵtemplate(10, MovieFormComponent_div_6_div_10_Template, 2, 0, \"div\", 17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\", 14)(12, \"label\", 18);\n    i0.ɵɵtext(13, \"Genre\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(14, \"input\", 19);\n    i0.ɵɵtemplate(15, MovieFormComponent_div_6_div_15_Template, 2, 0, \"div\", 17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"div\", 14)(17, \"label\", 20);\n    i0.ɵɵtext(18, \"Release Year\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(19, \"input\", 21);\n    i0.ɵɵtemplate(20, MovieFormComponent_div_6_div_20_Template, 2, 0, \"div\", 17);\n    i0.ɵɵtemplate(21, MovieFormComponent_div_6_div_21_Template, 2, 0, \"div\", 17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"div\", 14)(23, \"label\", 22);\n    i0.ɵɵtext(24, \"Runtime (minutes)\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(25, \"input\", 23);\n    i0.ɵɵtemplate(26, MovieFormComponent_div_6_div_26_Template, 2, 0, \"div\", 17);\n    i0.ɵɵtemplate(27, MovieFormComponent_div_6_div_27_Template, 2, 0, \"div\", 17);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(28, \"div\", 13)(29, \"div\", 14)(30, \"label\", 24);\n    i0.ɵɵtext(31, \"Poster URL\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(32, \"input\", 25);\n    i0.ɵɵtemplate(33, MovieFormComponent_div_6_div_33_Template, 2, 0, \"div\", 17);\n    i0.ɵɵtemplate(34, MovieFormComponent_div_6_div_34_Template, 2, 1, \"div\", 26);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(35, \"div\", 14)(36, \"label\", 27);\n    i0.ɵɵtext(37, \"Status *\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(38, \"select\", 28)(39, \"option\", 29);\n    i0.ɵɵtext(40, \"Wishlist\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(41, \"option\", 30);\n    i0.ɵɵtext(42, \"Watched\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(43, MovieFormComponent_div_6_div_43_Template, 2, 0, \"div\", 17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(44, MovieFormComponent_div_6_div_44_Template, 6, 5, \"div\", 31);\n    i0.ɵɵtemplate(45, MovieFormComponent_div_6_div_45_Template, 5, 4, \"div\", 31);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(46, \"div\", 32)(47, \"button\", 33);\n    i0.ɵɵlistener(\"click\", function MovieFormComponent_div_6_Template_button_click_47_listener() {\n      i0.ɵɵrestoreView(_r20);\n      const ctx_r21 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r21.cancel());\n    });\n    i0.ɵɵtext(48, \"Cancel\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(49, \"button\", 34);\n    i0.ɵɵtemplate(50, MovieFormComponent_div_6_span_50_Template, 1, 0, \"span\", 35);\n    i0.ɵɵtext(51);\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    let tmp_1_0;\n    let tmp_2_0;\n    let tmp_3_0;\n    let tmp_4_0;\n    let tmp_5_0;\n    let tmp_6_0;\n    let tmp_7_0;\n    let tmp_8_0;\n    let tmp_9_0;\n    let tmp_10_0;\n    let tmp_11_0;\n    let tmp_12_0;\n    let tmp_13_0;\n    let tmp_14_0;\n    let tmp_15_0;\n    let tmp_16_0;\n    let tmp_17_0;\n    let tmp_18_0;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"formGroup\", ctx_r2.movieForm);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(22, _c0, ((tmp_1_0 = ctx_r2.movieForm.get(\"title\")) == null ? null : tmp_1_0.invalid) && ((tmp_1_0 = ctx_r2.movieForm.get(\"title\")) == null ? null : tmp_1_0.touched)));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_2_0 = ctx_r2.movieForm.get(\"title\")) == null ? null : tmp_2_0.errors == null ? null : tmp_2_0.errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_3_0 = ctx_r2.movieForm.get(\"title\")) == null ? null : tmp_3_0.errors == null ? null : tmp_3_0.errors[\"maxlength\"]);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(24, _c0, ((tmp_4_0 = ctx_r2.movieForm.get(\"genre\")) == null ? null : tmp_4_0.invalid) && ((tmp_4_0 = ctx_r2.movieForm.get(\"genre\")) == null ? null : tmp_4_0.touched)));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_5_0 = ctx_r2.movieForm.get(\"genre\")) == null ? null : tmp_5_0.errors == null ? null : tmp_5_0.errors[\"maxlength\"]);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(26, _c0, ((tmp_6_0 = ctx_r2.movieForm.get(\"releaseYear\")) == null ? null : tmp_6_0.invalid) && ((tmp_6_0 = ctx_r2.movieForm.get(\"releaseYear\")) == null ? null : tmp_6_0.touched)));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_7_0 = ctx_r2.movieForm.get(\"releaseYear\")) == null ? null : tmp_7_0.errors == null ? null : tmp_7_0.errors[\"min\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_8_0 = ctx_r2.movieForm.get(\"releaseYear\")) == null ? null : tmp_8_0.errors == null ? null : tmp_8_0.errors[\"max\"]);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(28, _c0, ((tmp_9_0 = ctx_r2.movieForm.get(\"runtime\")) == null ? null : tmp_9_0.invalid) && ((tmp_9_0 = ctx_r2.movieForm.get(\"runtime\")) == null ? null : tmp_9_0.touched)));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_10_0 = ctx_r2.movieForm.get(\"runtime\")) == null ? null : tmp_10_0.errors == null ? null : tmp_10_0.errors[\"min\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_11_0 = ctx_r2.movieForm.get(\"runtime\")) == null ? null : tmp_11_0.errors == null ? null : tmp_11_0.errors[\"max\"]);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(30, _c0, ((tmp_12_0 = ctx_r2.movieForm.get(\"posterUrl\")) == null ? null : tmp_12_0.invalid) && ((tmp_12_0 = ctx_r2.movieForm.get(\"posterUrl\")) == null ? null : tmp_12_0.touched)));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_13_0 = ctx_r2.movieForm.get(\"posterUrl\")) == null ? null : tmp_13_0.errors == null ? null : tmp_13_0.errors[\"maxlength\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_14_0 = ctx_r2.movieForm.get(\"posterUrl\")) == null ? null : tmp_14_0.value);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(32, _c0, ((tmp_15_0 = ctx_r2.movieForm.get(\"status\")) == null ? null : tmp_15_0.invalid) && ((tmp_15_0 = ctx_r2.movieForm.get(\"status\")) == null ? null : tmp_15_0.touched)));\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", (tmp_16_0 = ctx_r2.movieForm.get(\"status\")) == null ? null : tmp_16_0.errors == null ? null : tmp_16_0.errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_17_0 = ctx_r2.movieForm.get(\"status\")) == null ? null : tmp_17_0.value) === \"WATCHED\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_18_0 = ctx_r2.movieForm.get(\"status\")) == null ? null : tmp_18_0.value) === \"WATCHED\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"disabled\", ctx_r2.movieForm.invalid || ctx_r2.submitting);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.submitting);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.isEditMode ? \"Update\" : \"Add\", \" Movie \");\n  }\n}\nexport class MovieFormComponent {\n  constructor(formBuilder, route, router, movieService) {\n    this.formBuilder = formBuilder;\n    this.route = route;\n    this.router = router;\n    this.movieService = movieService;\n    this.isEditMode = false;\n    this.loading = false;\n    this.submitting = false;\n    this.error = '';\n  }\n  ngOnInit() {\n    this.initForm();\n    this.route.paramMap.subscribe(params => {\n      const id = params.get('id');\n      if (id) {\n        this.isEditMode = true;\n        this.movieId = +id;\n        this.loadMovie(this.movieId);\n      }\n    });\n  }\n  initForm() {\n    this.movieForm = this.formBuilder.group({\n      title: ['', [Validators.required, Validators.maxLength(100)]],\n      genre: ['', [Validators.maxLength(100)]],\n      releaseYear: [null, [Validators.min(1900), Validators.max(new Date().getFullYear() + 5)]],\n      runtime: [null, [Validators.min(1), Validators.max(999)]],\n      posterUrl: ['', [Validators.maxLength(255)]],\n      status: ['WISHLIST', Validators.required],\n      rating: [null, [Validators.min(1), Validators.max(10)]],\n      review: ['', [Validators.maxLength(1000)]]\n    });\n  }\n  loadMovie(id) {\n    this.loading = true;\n    this.movieService.getMovie(id).subscribe({\n      next: movie => {\n        this.movieForm.patchValue({\n          title: movie.title,\n          genre: movie.genre,\n          releaseYear: movie.releaseYear,\n          runtime: movie.runtime,\n          posterUrl: movie.posterUrl,\n          status: movie.status,\n          rating: movie.rating,\n          review: movie.review\n        });\n        this.loading = false;\n      },\n      error: error => {\n        this.error = 'Failed to load movie. Please try again later.';\n        console.error('Error loading movie:', error);\n        this.loading = false;\n      }\n    });\n  }\n  onSubmit() {\n    if (this.movieForm.invalid) {\n      return;\n    }\n    this.submitting = true;\n    const movieData = this.movieForm.value;\n    if (this.isEditMode && this.movieId) {\n      this.movieService.updateMovie(this.movieId, movieData).subscribe({\n        next: () => {\n          this.submitting = false;\n          this.router.navigate(['/movies/detail', this.movieId]);\n        },\n        error: error => {\n          this.error = 'Failed to update movie. Please try again later.';\n          console.error('Error updating movie:', error);\n          this.submitting = false;\n        }\n      });\n    } else {\n      this.movieService.addMovie(movieData).subscribe({\n        next: movie => {\n          this.submitting = false;\n          this.router.navigate(['/movies/detail', movie.id]);\n        },\n        error: error => {\n          this.error = 'Failed to add movie. Please try again later.';\n          console.error('Error adding movie:', error);\n          this.submitting = false;\n        }\n      });\n    }\n  }\n  cancel() {\n    if (this.isEditMode && this.movieId) {\n      this.router.navigate(['/movies/detail', this.movieId]);\n    } else {\n      this.router.navigate(['/movies/wishlist']);\n    }\n  }\n  static {\n    this.ɵfac = function MovieFormComponent_Factory(t) {\n      return new (t || MovieFormComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.MovieService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: MovieFormComponent,\n      selectors: [[\"app-movie-form\"]],\n      decls: 7,\n      vars: 4,\n      consts: [[1, \"container\"], [1, \"form-header\"], [\"class\", \"loading-spinner\", 4, \"ngIf\"], [\"class\", \"alert alert-danger\", 4, \"ngIf\"], [\"class\", \"card\", 4, \"ngIf\"], [1, \"loading-spinner\"], [\"role\", \"status\", 1, \"spinner-border\", \"text-primary\"], [1, \"visually-hidden\"], [1, \"alert\", \"alert-danger\"], [1, \"card\"], [1, \"card-body\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"row\"], [1, \"col-md-6\"], [1, \"mb-3\"], [\"for\", \"title\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"title\", \"formControlName\", \"title\", 1, \"form-control\", 3, \"ngClass\"], [\"class\", \"invalid-feedback\", 4, \"ngIf\"], [\"for\", \"genre\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"genre\", \"formControlName\", \"genre\", 1, \"form-control\", 3, \"ngClass\"], [\"for\", \"releaseYear\", 1, \"form-label\"], [\"type\", \"number\", \"id\", \"releaseYear\", \"formControlName\", \"releaseYear\", 1, \"form-control\", 3, \"ngClass\"], [\"for\", \"runtime\", 1, \"form-label\"], [\"type\", \"number\", \"id\", \"runtime\", \"formControlName\", \"runtime\", 1, \"form-control\", 3, \"ngClass\"], [\"for\", \"posterUrl\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"posterUrl\", \"formControlName\", \"posterUrl\", 1, \"form-control\", 3, \"ngClass\"], [\"class\", \"poster-preview\", 4, \"ngIf\"], [\"for\", \"status\", 1, \"form-label\"], [\"id\", \"status\", \"formControlName\", \"status\", 1, \"form-select\", 3, \"ngClass\"], [\"value\", \"WISHLIST\"], [\"value\", \"WATCHED\"], [\"class\", \"mb-3\", 4, \"ngIf\"], [1, \"form-actions\"], [\"type\", \"button\", 1, \"btn\", \"btn-secondary\", 3, \"click\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"disabled\"], [\"class\", \"spinner-border spinner-border-sm me-1\", 4, \"ngIf\"], [1, \"invalid-feedback\"], [1, \"poster-preview\"], [\"alt\", \"Movie poster preview\", 3, \"src\"], [\"for\", \"rating\", 1, \"form-label\"], [\"type\", \"number\", \"id\", \"rating\", \"formControlName\", \"rating\", 1, \"form-control\", 3, \"ngClass\"], [\"for\", \"review\", 1, \"form-label\"], [\"id\", \"review\", \"formControlName\", \"review\", \"rows\", \"4\", 1, \"form-control\", 3, \"ngClass\"], [1, \"spinner-border\", \"spinner-border-sm\", \"me-1\"]],\n      template: function MovieFormComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h1\");\n          i0.ɵɵtext(3);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(4, MovieFormComponent_div_4_Template, 4, 0, \"div\", 2);\n          i0.ɵɵtemplate(5, MovieFormComponent_div_5_Template, 2, 1, \"div\", 3);\n          i0.ɵɵtemplate(6, MovieFormComponent_div_6_Template, 52, 34, \"div\", 4);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate1(\"\", ctx.isEditMode ? \"Edit\" : \"Add\", \" Movie\");\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.loading);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.error);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.loading);\n        }\n      },\n      dependencies: [i4.NgClass, i4.NgIf, i1.ɵNgNoValidate, i1.NgSelectOption, i1.ɵNgSelectMultipleOption, i1.DefaultValueAccessor, i1.NumberValueAccessor, i1.SelectControlValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName],\n      styles: [\".form-header[_ngcontent-%COMP%] {\\r\\n  margin-bottom: 20px;\\r\\n}\\r\\n\\r\\n.form-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%] {\\r\\n  font-size: 24px;\\r\\n  font-weight: bold;\\r\\n  color: #333;\\r\\n}\\r\\n\\r\\n.loading-spinner[_ngcontent-%COMP%] {\\r\\n  display: flex;\\r\\n  justify-content: center;\\r\\n  padding: 30px 0;\\r\\n}\\r\\n\\r\\n.card[_ngcontent-%COMP%] {\\r\\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\\r\\n  border: none;\\r\\n  margin-bottom: 30px;\\r\\n}\\r\\n\\r\\n.card-body[_ngcontent-%COMP%] {\\r\\n  padding: 30px;\\r\\n}\\r\\n\\r\\n.form-label[_ngcontent-%COMP%] {\\r\\n  font-weight: 500;\\r\\n  color: #555;\\r\\n}\\r\\n\\r\\n.poster-preview[_ngcontent-%COMP%] {\\r\\n  margin-top: 10px;\\r\\n  border-radius: 4px;\\r\\n  overflow: hidden;\\r\\n  max-width: 200px;\\r\\n}\\r\\n\\r\\n.poster-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\r\\n  width: 100%;\\r\\n  height: auto;\\r\\n  display: block;\\r\\n}\\r\\n\\r\\n.form-actions[_ngcontent-%COMP%] {\\r\\n  display: flex;\\r\\n  justify-content: flex-end;\\r\\n  gap: 10px;\\r\\n  margin-top: 20px;\\r\\n  padding-top: 20px;\\r\\n  border-top: 1px solid #eee;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZmVhdHVyZXMvbW92aWVzL21vdmllLWZvcm0vbW92aWUtZm9ybS5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UsZUFBZTtFQUNmLGlCQUFpQjtFQUNqQixXQUFXO0FBQ2I7O0FBRUE7RUFDRSxhQUFhO0VBQ2IsdUJBQXVCO0VBQ3ZCLGVBQWU7QUFDakI7O0FBRUE7RUFDRSx3Q0FBd0M7RUFDeEMsWUFBWTtFQUNaLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLGFBQWE7QUFDZjs7QUFFQTtFQUNFLGdCQUFnQjtFQUNoQixXQUFXO0FBQ2I7O0FBRUE7RUFDRSxnQkFBZ0I7RUFDaEIsa0JBQWtCO0VBQ2xCLGdCQUFnQjtFQUNoQixnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSxXQUFXO0VBQ1gsWUFBWTtFQUNaLGNBQWM7QUFDaEI7O0FBRUE7RUFDRSxhQUFhO0VBQ2IseUJBQXlCO0VBQ3pCLFNBQVM7RUFDVCxnQkFBZ0I7RUFDaEIsaUJBQWlCO0VBQ2pCLDBCQUEwQjtBQUM1QiIsInNvdXJjZXNDb250ZW50IjpbIi5mb3JtLWhlYWRlciB7XHJcbiAgbWFyZ2luLWJvdHRvbTogMjBweDtcclxufVxyXG5cclxuLmZvcm0taGVhZGVyIGgxIHtcclxuICBmb250LXNpemU6IDI0cHg7XHJcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgY29sb3I6ICMzMzM7XHJcbn1cclxuXHJcbi5sb2FkaW5nLXNwaW5uZXIge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgcGFkZGluZzogMzBweCAwO1xyXG59XHJcblxyXG4uY2FyZCB7XHJcbiAgYm94LXNoYWRvdzogMCA0cHggOHB4IHJnYmEoMCwgMCwgMCwgMC4xKTtcclxuICBib3JkZXI6IG5vbmU7XHJcbiAgbWFyZ2luLWJvdHRvbTogMzBweDtcclxufVxyXG5cclxuLmNhcmQtYm9keSB7XHJcbiAgcGFkZGluZzogMzBweDtcclxufVxyXG5cclxuLmZvcm0tbGFiZWwge1xyXG4gIGZvbnQtd2VpZ2h0OiA1MDA7XHJcbiAgY29sb3I6ICM1NTU7XHJcbn1cclxuXHJcbi5wb3N0ZXItcHJldmlldyB7XHJcbiAgbWFyZ2luLXRvcDogMTBweDtcclxuICBib3JkZXItcmFkaXVzOiA0cHg7XHJcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICBtYXgtd2lkdGg6IDIwMHB4O1xyXG59XHJcblxyXG4ucG9zdGVyLXByZXZpZXcgaW1nIHtcclxuICB3aWR0aDogMTAwJTtcclxuICBoZWlnaHQ6IGF1dG87XHJcbiAgZGlzcGxheTogYmxvY2s7XHJcbn1cclxuXHJcbi5mb3JtLWFjdGlvbnMge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcclxuICBnYXA6IDEwcHg7XHJcbiAgbWFyZ2luLXRvcDogMjBweDtcclxuICBwYWRkaW5nLXRvcDogMjBweDtcclxuICBib3JkZXItdG9wOiAxcHggc29saWQgI2VlZTtcclxufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n    });\n  }\n}","map":{"version":3,"mappings":"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","names":["Validators","i0","MovieFormComponent","constructor","formBuilder","route","router","movieService","ngOnInit","initForm","paramMap","subscribe","params","id","get","isEditMode","movieId","loadMovie","movieForm","group","title","required","maxLength","genre","releaseYear","min","max","Date","getFullYear","runtime","posterUrl","status","rating","review","loading","getMovie","next","movie","patchValue","error","console","onSubmit","invalid","submitting","movieData","value","updateMovie","navigate","addMovie","cancel","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["D:\\MovieListIO\\movie-wishlist-frontend\\src\\app\\features\\movies\\movie-form\\movie-form.component.ts","D:\\MovieListIO\\movie-wishlist-frontend\\src\\app\\features\\movies\\movie-form\\movie-form.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { Movie } from '../../../core/models/movie.model';\r\nimport { MovieService } from '../../../core/services/movie.service';\r\n\r\n@Component({\r\n  selector: 'app-movie-form',\r\n  templateUrl: './movie-form.component.html',\r\n  styleUrls: ['./movie-form.component.css']\r\n})\r\nexport class MovieFormComponent implements OnInit {\r\n  movieForm!: FormGroup;\r\n  isEditMode = false;\r\n  movieId?: number;\r\n  loading = false;\r\n  submitting = false;\r\n  error = '';\r\n  \r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private route: ActivatedRoute,\r\n    private router: Router,\r\n    private movieService: MovieService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.initForm();\r\n    \r\n    this.route.paramMap.subscribe(params => {\r\n      const id = params.get('id');\r\n      if (id) {\r\n        this.isEditMode = true;\r\n        this.movieId = +id;\r\n        this.loadMovie(this.movieId);\r\n      }\r\n    });\r\n  }\r\n\r\n  initForm(): void {\r\n    this.movieForm = this.formBuilder.group({\r\n      title: ['', [Validators.required, Validators.maxLength(100)]],\r\n      genre: ['', [Validators.maxLength(100)]],\r\n      releaseYear: [null, [Validators.min(1900), Validators.max(new Date().getFullYear() + 5)]],\r\n      runtime: [null, [Validators.min(1), Validators.max(999)]],\r\n      posterUrl: ['', [Validators.maxLength(255)]],\r\n      status: ['WISHLIST', Validators.required],\r\n      rating: [null, [Validators.min(1), Validators.max(10)]],\r\n      review: ['', [Validators.maxLength(1000)]]\r\n    });\r\n  }\r\n\r\n  loadMovie(id: number): void {\r\n    this.loading = true;\r\n    this.movieService.getMovie(id).subscribe({\r\n      next: (movie) => {\r\n        this.movieForm.patchValue({\r\n          title: movie.title,\r\n          genre: movie.genre,\r\n          releaseYear: movie.releaseYear,\r\n          runtime: movie.runtime,\r\n          posterUrl: movie.posterUrl,\r\n          status: movie.status,\r\n          rating: movie.rating,\r\n          review: movie.review\r\n        });\r\n        this.loading = false;\r\n      },\r\n      error: (error) => {\r\n        this.error = 'Failed to load movie. Please try again later.';\r\n        console.error('Error loading movie:', error);\r\n        this.loading = false;\r\n      }\r\n    });\r\n  }\r\n\r\n  onSubmit(): void {\r\n    if (this.movieForm.invalid) {\r\n      return;\r\n    }\r\n\r\n    this.submitting = true;\r\n    const movieData: Movie = this.movieForm.value;\r\n\r\n    if (this.isEditMode && this.movieId) {\r\n      this.movieService.updateMovie(this.movieId, movieData).subscribe({\r\n        next: () => {\r\n          this.submitting = false;\r\n          this.router.navigate(['/movies/detail', this.movieId]);\r\n        },\r\n        error: (error) => {\r\n          this.error = 'Failed to update movie. Please try again later.';\r\n          console.error('Error updating movie:', error);\r\n          this.submitting = false;\r\n        }\r\n      });\r\n    } else {\r\n      this.movieService.addMovie(movieData).subscribe({\r\n        next: (movie) => {\r\n          this.submitting = false;\r\n          this.router.navigate(['/movies/detail', movie.id]);\r\n        },\r\n        error: (error) => {\r\n          this.error = 'Failed to add movie. Please try again later.';\r\n          console.error('Error adding movie:', error);\r\n          this.submitting = false;\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  cancel(): void {\r\n    if (this.isEditMode && this.movieId) {\r\n      this.router.navigate(['/movies/detail', this.movieId]);\r\n    } else {\r\n      this.router.navigate(['/movies/wishlist']);\r\n    }\r\n  }\r\n}","<div class=\"container\">\r\n  <div class=\"form-header\">\r\n    <h1>{{ isEditMode ? 'Edit' : 'Add' }} Movie</h1>\r\n  </div>\r\n\r\n  <div class=\"loading-spinner\" *ngIf=\"loading\">\r\n    <div class=\"spinner-border text-primary\" role=\"status\">\r\n      <span class=\"visually-hidden\">Loading...</span>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"alert alert-danger\" *ngIf=\"error\">\r\n    {{ error }}\r\n  </div>\r\n\r\n  <div class=\"card\" *ngIf=\"!loading\">\r\n    <div class=\"card-body\">\r\n      <form [formGroup]=\"movieForm\" (ngSubmit)=\"onSubmit()\">\r\n        <div class=\"row\">\r\n          <div class=\"col-md-6\">\r\n            <!-- Title -->\r\n            <div class=\"mb-3\">\r\n              <label for=\"title\" class=\"form-label\">Title *</label>\r\n              <input \r\n                type=\"text\" \r\n                id=\"title\" \r\n                formControlName=\"title\" \r\n                class=\"form-control\"\r\n                [ngClass]=\"{ 'is-invalid': movieForm.get('title')?.invalid && movieForm.get('title')?.touched }\"\r\n              >\r\n              <div class=\"invalid-feedback\" *ngIf=\"movieForm.get('title')?.errors?.['required']\">\r\n                Title is required.\r\n              </div>\r\n              <div class=\"invalid-feedback\" *ngIf=\"movieForm.get('title')?.errors?.['maxlength']\">\r\n                Title cannot exceed 100 characters.\r\n              </div>\r\n            </div>\r\n\r\n            <!-- Genre -->\r\n            <div class=\"mb-3\">\r\n              <label for=\"genre\" class=\"form-label\">Genre</label>\r\n              <input \r\n                type=\"text\" \r\n                id=\"genre\" \r\n                formControlName=\"genre\" \r\n                class=\"form-control\"\r\n                [ngClass]=\"{ 'is-invalid': movieForm.get('genre')?.invalid && movieForm.get('genre')?.touched }\"\r\n              >\r\n              <div class=\"invalid-feedback\" *ngIf=\"movieForm.get('genre')?.errors?.['maxlength']\">\r\n                Genre cannot exceed 100 characters.\r\n              </div>\r\n            </div>\r\n\r\n            <!-- Release Year -->\r\n            <div class=\"mb-3\">\r\n              <label for=\"releaseYear\" class=\"form-label\">Release Year</label>\r\n              <input \r\n                type=\"number\" \r\n                id=\"releaseYear\" \r\n                formControlName=\"releaseYear\" \r\n                class=\"form-control\"\r\n                [ngClass]=\"{ 'is-invalid': movieForm.get('releaseYear')?.invalid && movieForm.get('releaseYear')?.touched }\"\r\n              >\r\n              <div class=\"invalid-feedback\" *ngIf=\"movieForm.get('releaseYear')?.errors?.['min']\">\r\n                Release year must be 1900 or later.\r\n              </div>\r\n              <div class=\"invalid-feedback\" *ngIf=\"movieForm.get('releaseYear')?.errors?.['max']\">\r\n                Release year cannot be more than 5 years in the future.\r\n              </div>\r\n            </div>\r\n\r\n            <!-- Runtime -->\r\n            <div class=\"mb-3\">\r\n              <label for=\"runtime\" class=\"form-label\">Runtime (minutes)</label>\r\n              <input \r\n                type=\"number\" \r\n                id=\"runtime\" \r\n                formControlName=\"runtime\" \r\n                class=\"form-control\"\r\n                [ngClass]=\"{ 'is-invalid': movieForm.get('runtime')?.invalid && movieForm.get('runtime')?.touched }\"\r\n              >\r\n              <div class=\"invalid-feedback\" *ngIf=\"movieForm.get('runtime')?.errors?.['min']\">\r\n                Runtime must be at least 1 minute.\r\n              </div>\r\n              <div class=\"invalid-feedback\" *ngIf=\"movieForm.get('runtime')?.errors?.['max']\">\r\n                Runtime cannot exceed 999 minutes.\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"col-md-6\">\r\n            <!-- Poster URL -->\r\n            <div class=\"mb-3\">\r\n              <label for=\"posterUrl\" class=\"form-label\">Poster URL</label>\r\n              <input \r\n                type=\"text\" \r\n                id=\"posterUrl\" \r\n                formControlName=\"posterUrl\" \r\n                class=\"form-control\"\r\n                [ngClass]=\"{ 'is-invalid': movieForm.get('posterUrl')?.invalid && movieForm.get('posterUrl')?.touched }\"\r\n              >\r\n              <div class=\"invalid-feedback\" *ngIf=\"movieForm.get('posterUrl')?.errors?.['maxlength']\">\r\n                Poster URL cannot exceed 255 characters.\r\n              </div>\r\n              <div class=\"poster-preview\" *ngIf=\"movieForm.get('posterUrl')?.value\">\r\n                <img [src]=\"movieForm.get('posterUrl')?.value\" alt=\"Movie poster preview\">\r\n              </div>\r\n            </div>\r\n\r\n            <!-- Status -->\r\n            <div class=\"mb-3\">\r\n              <label for=\"status\" class=\"form-label\">Status *</label>\r\n              <select \r\n                id=\"status\" \r\n                formControlName=\"status\" \r\n                class=\"form-select\"\r\n                [ngClass]=\"{ 'is-invalid': movieForm.get('status')?.invalid && movieForm.get('status')?.touched }\"\r\n              >\r\n                <option value=\"WISHLIST\">Wishlist</option>\r\n                <option value=\"WATCHED\">Watched</option>\r\n              </select>\r\n              <div class=\"invalid-feedback\" *ngIf=\"movieForm.get('status')?.errors?.['required']\">\r\n                Status is required.\r\n              </div>\r\n            </div>\r\n\r\n            <!-- Rating (only for WATCHED status) -->\r\n            <div class=\"mb-3\" *ngIf=\"movieForm.get('status')?.value === 'WATCHED'\">\r\n              <label for=\"rating\" class=\"form-label\">Rating (1-10)</label>\r\n              <input \r\n                type=\"number\" \r\n                id=\"rating\" \r\n                formControlName=\"rating\" \r\n                class=\"form-control\"\r\n                [ngClass]=\"{ 'is-invalid': movieForm.get('rating')?.invalid && movieForm.get('rating')?.touched }\"\r\n              >\r\n              <div class=\"invalid-feedback\" *ngIf=\"movieForm.get('rating')?.errors?.['min']\">\r\n                Rating must be at least 1.\r\n              </div>\r\n              <div class=\"invalid-feedback\" *ngIf=\"movieForm.get('rating')?.errors?.['max']\">\r\n                Rating cannot exceed 10.\r\n              </div>\r\n            </div>\r\n\r\n            <!-- Review (only for WATCHED status) -->\r\n            <div class=\"mb-3\" *ngIf=\"movieForm.get('status')?.value === 'WATCHED'\">\r\n              <label for=\"review\" class=\"form-label\">Review</label>\r\n              <textarea \r\n                id=\"review\" \r\n                formControlName=\"review\" \r\n                class=\"form-control\" \r\n                rows=\"4\"\r\n                [ngClass]=\"{ 'is-invalid': movieForm.get('review')?.invalid && movieForm.get('review')?.touched }\"\r\n              ></textarea>\r\n              <div class=\"invalid-feedback\" *ngIf=\"movieForm.get('review')?.errors?.['maxlength']\">\r\n                Review cannot exceed 1000 characters.\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"form-actions\">\r\n          <button type=\"button\" class=\"btn btn-secondary\" (click)=\"cancel()\">Cancel</button>\r\n          <button \r\n            type=\"submit\" \r\n            class=\"btn btn-primary\" \r\n            [disabled]=\"movieForm.invalid || submitting\"\r\n          >\r\n            <span *ngIf=\"submitting\" class=\"spinner-border spinner-border-sm me-1\"></span>\r\n            {{ isEditMode ? 'Update' : 'Add' }} Movie\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}