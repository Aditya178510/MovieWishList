{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../../core/services/movie.service\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/common\";\nfunction MovieDetailComponent_div_0_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 5)(1, \"div\", 6)(2, \"span\", 7);\n    i0.ɵɵtext(3, \"Loading...\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction MovieDetailComponent_div_0_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r3.error, \" \");\n  }\n}\nfunction MovieDetailComponent_div_0_div_3_img_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 41);\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"src\", ctx_r5.movie.posterUrl, i0.ɵɵsanitizeUrl)(\"alt\", ctx_r5.movie.title);\n  }\n}\nfunction MovieDetailComponent_div_0_div_3_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 42)(1, \"i\", 24);\n    i0.ɵɵtext(2, \"movie\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction MovieDetailComponent_div_0_div_3_span_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"(\", ctx_r7.movie.releaseYear, \")\");\n  }\n}\nfunction MovieDetailComponent_div_0_div_3_p_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\")(1, \"strong\");\n    i0.ɵɵtext(2, \"Genre:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r8.movie.genre, \"\");\n  }\n}\nfunction MovieDetailComponent_div_0_div_3_p_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\")(1, \"strong\");\n    i0.ɵɵtext(2, \"Runtime:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r9 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r9.movie.runtime, \" minutes\");\n  }\n}\nfunction MovieDetailComponent_div_0_div_3_p_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\")(1, \"strong\");\n    i0.ɵɵtext(2, \"Your Rating:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r10 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r10.movie.rating, \"/10\");\n  }\n}\nfunction MovieDetailComponent_div_0_div_3_p_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\")(1, \"strong\");\n    i0.ɵɵtext(2, \"Added:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"date\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r11 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(4, 1, ctx_r11.movie.createdAt, \"medium\"), \"\");\n  }\n}\nfunction MovieDetailComponent_div_0_div_3_p_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\")(1, \"strong\");\n    i0.ɵɵtext(2, \"Last Updated:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"date\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r12 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(4, 1, ctx_r12.movie.updatedAt, \"medium\"), \"\");\n  }\n}\nfunction MovieDetailComponent_div_0_div_3_div_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 43)(1, \"h3\");\n    i0.ɵɵtext(2, \"Your Review\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r13 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r13.movie.review);\n  }\n}\nfunction MovieDetailComponent_div_0_div_3_button_30_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r22 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 44);\n    i0.ɵɵlistener(\"click\", function MovieDetailComponent_div_0_div_3_button_30_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r22);\n      const ctx_r21 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r21.changeStatus(\"WATCHED\"));\n    });\n    i0.ɵɵelementStart(1, \"i\", 24);\n    i0.ɵɵtext(2, \"visibility\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3, \" Mark as Watched \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MovieDetailComponent_div_0_div_3_button_31_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r24 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 45);\n    i0.ɵɵlistener(\"click\", function MovieDetailComponent_div_0_div_3_button_31_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r24);\n      const ctx_r23 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r23.changeStatus(\"WISHLIST\"));\n    });\n    i0.ɵɵelementStart(1, \"i\", 24);\n    i0.ɵɵtext(2, \"bookmark\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3, \" Move to Wishlist \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MovieDetailComponent_div_0_div_3_div_45_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 46);\n    i0.ɵɵtext(1, \" Comment cannot be empty. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MovieDetailComponent_div_0_div_3_div_46_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 46);\n    i0.ɵɵtext(1, \" Comment cannot exceed 500 characters. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MovieDetailComponent_div_0_div_3_span_48_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"span\", 47);\n  }\n}\nfunction MovieDetailComponent_div_0_div_3_div_51_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 48)(1, \"div\", 49)(2, \"span\", 50);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"span\", 51);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"date\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 52);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const comment_r25 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(comment_r25.username);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(6, 3, comment_r25.createdAt, \"medium\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", comment_r25.content, \" \");\n  }\n}\nfunction MovieDetailComponent_div_0_div_3_div_52_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 53)(1, \"p\");\n    i0.ɵɵtext(2, \"No comments yet. Be the first to comment!\");\n    i0.ɵɵelementEnd()();\n  }\n}\nconst _c0 = function (a0, a1) {\n  return {\n    \"wishlist\": a0,\n    \"watched\": a1\n  };\n};\nconst _c1 = function (a0) {\n  return {\n    \"liked\": a0\n  };\n};\nconst _c2 = function (a0) {\n  return {\n    \"is-invalid\": a0\n  };\n};\nfunction MovieDetailComponent_div_0_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r27 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 9)(1, \"div\", 10)(2, \"div\", 11)(3, \"div\", 12);\n    i0.ɵɵtemplate(4, MovieDetailComponent_div_0_div_3_img_4_Template, 1, 2, \"img\", 13);\n    i0.ɵɵtemplate(5, MovieDetailComponent_div_0_div_3_div_5_Template, 3, 0, \"div\", 14);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"div\", 15)(7, \"div\", 16)(8, \"h1\");\n    i0.ɵɵtext(9);\n    i0.ɵɵtemplate(10, MovieDetailComponent_div_0_div_3_span_10_Template, 2, 1, \"span\", 17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\", 18)(12, \"span\", 19);\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(14, \"div\", 20);\n    i0.ɵɵtemplate(15, MovieDetailComponent_div_0_div_3_p_15_Template, 4, 1, \"p\", 17);\n    i0.ɵɵtemplate(16, MovieDetailComponent_div_0_div_3_p_16_Template, 4, 1, \"p\", 17);\n    i0.ɵɵtemplate(17, MovieDetailComponent_div_0_div_3_p_17_Template, 4, 1, \"p\", 17);\n    i0.ɵɵtemplate(18, MovieDetailComponent_div_0_div_3_p_18_Template, 5, 4, \"p\", 17);\n    i0.ɵɵtemplate(19, MovieDetailComponent_div_0_div_3_p_19_Template, 5, 4, \"p\", 17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(20, MovieDetailComponent_div_0_div_3_div_20_Template, 5, 1, \"div\", 21);\n    i0.ɵɵelementStart(21, \"div\", 22)(22, \"button\", 23);\n    i0.ɵɵlistener(\"click\", function MovieDetailComponent_div_0_div_3_Template_button_click_22_listener() {\n      i0.ɵɵrestoreView(_r27);\n      const ctx_r26 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r26.editMovie());\n    });\n    i0.ɵɵelementStart(23, \"i\", 24);\n    i0.ɵɵtext(24, \"edit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(25, \" Edit \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"button\", 25);\n    i0.ɵɵlistener(\"click\", function MovieDetailComponent_div_0_div_3_Template_button_click_26_listener() {\n      i0.ɵɵrestoreView(_r27);\n      const ctx_r28 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r28.deleteMovie());\n    });\n    i0.ɵɵelementStart(27, \"i\", 24);\n    i0.ɵɵtext(28, \"delete\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(29, \" Delete \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(30, MovieDetailComponent_div_0_div_3_button_30_Template, 4, 0, \"button\", 26);\n    i0.ɵɵtemplate(31, MovieDetailComponent_div_0_div_3_button_31_Template, 4, 0, \"button\", 27);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(32, \"div\", 28)(33, \"div\", 29)(34, \"button\", 30);\n    i0.ɵɵlistener(\"click\", function MovieDetailComponent_div_0_div_3_Template_button_click_34_listener() {\n      i0.ɵɵrestoreView(_r27);\n      const ctx_r29 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r29.toggleLike());\n    });\n    i0.ɵɵelementStart(35, \"i\", 24);\n    i0.ɵɵtext(36, \"favorite\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(37, \"span\");\n    i0.ɵɵtext(38);\n    i0.ɵɵelementEnd()()()()()();\n    i0.ɵɵelementStart(39, \"div\", 31)(40, \"h3\");\n    i0.ɵɵtext(41);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(42, \"form\", 32);\n    i0.ɵɵlistener(\"ngSubmit\", function MovieDetailComponent_div_0_div_3_Template_form_ngSubmit_42_listener() {\n      i0.ɵɵrestoreView(_r27);\n      const ctx_r30 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r30.submitComment());\n    });\n    i0.ɵɵelementStart(43, \"div\", 33);\n    i0.ɵɵelement(44, \"textarea\", 34);\n    i0.ɵɵtemplate(45, MovieDetailComponent_div_0_div_3_div_45_Template, 2, 0, \"div\", 35);\n    i0.ɵɵtemplate(46, MovieDetailComponent_div_0_div_3_div_46_Template, 2, 0, \"div\", 35);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(47, \"button\", 36);\n    i0.ɵɵtemplate(48, MovieDetailComponent_div_0_div_3_span_48_Template, 1, 0, \"span\", 37);\n    i0.ɵɵtext(49, \" Post Comment \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(50, \"div\", 38);\n    i0.ɵɵtemplate(51, MovieDetailComponent_div_0_div_3_div_51_Template, 9, 6, \"div\", 39);\n    i0.ɵɵtemplate(52, MovieDetailComponent_div_0_div_3_div_52_Template, 3, 0, \"div\", 40);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    let tmp_18_0;\n    let tmp_19_0;\n    let tmp_20_0;\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.movie.posterUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r4.movie.posterUrl);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r4.movie.title, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.movie.releaseYear);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(25, _c0, ctx_r4.movie.status === \"WISHLIST\", ctx_r4.movie.status === \"WATCHED\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r4.movie.status);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.movie.genre);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.movie.runtime);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.movie.rating);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.movie.createdAt);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.movie.updatedAt);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.movie.review);\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.movie.status === \"WISHLIST\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.movie.status === \"WATCHED\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(28, _c1, ctx_r4.movie.userLiked));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r4.movie.likesCount || 0, \" likes\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Comments (\", ctx_r4.comments.length, \")\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"formGroup\", ctx_r4.commentForm);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(30, _c2, ((tmp_18_0 = ctx_r4.commentForm.get(\"content\")) == null ? null : tmp_18_0.invalid) && ((tmp_18_0 = ctx_r4.commentForm.get(\"content\")) == null ? null : tmp_18_0.touched)));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_19_0 = ctx_r4.commentForm.get(\"content\")) == null ? null : tmp_19_0.errors == null ? null : tmp_19_0.errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_20_0 = ctx_r4.commentForm.get(\"content\")) == null ? null : tmp_20_0.errors == null ? null : tmp_20_0.errors[\"maxlength\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"disabled\", ctx_r4.commentForm.invalid || ctx_r4.commentLoading);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.commentLoading);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r4.comments);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.comments.length === 0);\n  }\n}\nfunction MovieDetailComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 1);\n    i0.ɵɵtemplate(1, MovieDetailComponent_div_0_div_1_Template, 4, 0, \"div\", 2);\n    i0.ɵɵtemplate(2, MovieDetailComponent_div_0_div_2_Template, 2, 1, \"div\", 3);\n    i0.ɵɵtemplate(3, MovieDetailComponent_div_0_div_3_Template, 53, 32, \"div\", 4);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.loading);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.error);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.movie && !ctx_r0.loading);\n  }\n}\nfunction MovieDetailComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 1)(1, \"div\", 54)(2, \"i\", 24);\n    i0.ɵɵtext(3, \"movie_filter\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"h2\");\n    i0.ɵɵtext(5, \"Movie Not Found\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\");\n    i0.ɵɵtext(7, \"The movie you're looking for doesn't exist or has been removed.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"button\", 55);\n    i0.ɵɵtext(9, \"Back to Wishlist\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nexport let MovieDetailComponent = /*#__PURE__*/(() => {\n  class MovieDetailComponent {\n    constructor(route, router, movieService, formBuilder) {\n      this.route = route;\n      this.router = router;\n      this.movieService = movieService;\n      this.formBuilder = formBuilder;\n      this.movie = null;\n      this.comments = [];\n      this.loading = false;\n      this.commentLoading = false;\n      this.error = '';\n    }\n    ngOnInit() {\n      this.commentForm = this.formBuilder.group({\n        content: ['', [Validators.required, Validators.maxLength(500)]]\n      });\n      this.route.paramMap.subscribe(params => {\n        const id = Number(params.get('id'));\n        if (id) {\n          this.loadMovie(id);\n          this.loadComments(id);\n        }\n      });\n    }\n    loadMovie(id) {\n      this.loading = true;\n      this.movieService.getMovie(id).subscribe({\n        next: movie => {\n          this.movie = movie;\n          this.loading = false;\n        },\n        error: error => {\n          this.error = 'Failed to load movie details. Please try again later.';\n          console.error('Error loading movie:', error);\n          this.loading = false;\n        }\n      });\n    }\n    loadComments(id) {\n      this.movieService.getComments(id).subscribe({\n        next: comments => {\n          this.comments = comments;\n        },\n        error: error => {\n          console.error('Error loading comments:', error);\n        }\n      });\n    }\n    toggleLike() {\n      if (!this.movie) return;\n      if (this.movie.userLiked) {\n        this.movieService.unlikeMovie(this.movie.id).subscribe({\n          next: () => {\n            if (this.movie) {\n              this.movie.userLiked = false;\n              this.movie.likesCount = (this.movie.likesCount || 0) - 1;\n            }\n          },\n          error: error => {\n            console.error('Error unliking movie:', error);\n          }\n        });\n      } else {\n        this.movieService.likeMovie(this.movie.id).subscribe({\n          next: () => {\n            if (this.movie) {\n              this.movie.userLiked = true;\n              this.movie.likesCount = (this.movie.likesCount || 0) + 1;\n            }\n          },\n          error: error => {\n            console.error('Error liking movie:', error);\n          }\n        });\n      }\n    }\n    submitComment() {\n      if (this.commentForm.invalid || !this.movie) return;\n      this.commentLoading = true;\n      const content = this.commentForm.get('content')?.value;\n      this.movieService.addComment(this.movie.id, content).subscribe({\n        next: comment => {\n          this.comments.unshift(comment);\n          this.commentForm.reset();\n          this.commentLoading = false;\n          if (this.movie) {\n            this.movie.commentsCount = (this.movie.commentsCount || 0) + 1;\n          }\n        },\n        error: error => {\n          console.error('Error adding comment:', error);\n          this.commentLoading = false;\n        }\n      });\n    }\n    changeStatus(status) {\n      if (!this.movie) return;\n      const updatedMovie = {\n        ...this.movie,\n        status\n      };\n      this.loading = true;\n      this.movieService.updateMovie(this.movie.id, updatedMovie).subscribe({\n        next: movie => {\n          this.movie = movie;\n          this.loading = false;\n        },\n        error: error => {\n          console.error('Error updating movie status:', error);\n          this.error = 'Failed to update movie status. Please try again.';\n          this.loading = false;\n        }\n      });\n    }\n    editMovie() {\n      if (!this.movie) return;\n      this.router.navigate(['/movies/edit', this.movie.id]);\n    }\n    deleteMovie() {\n      if (!this.movie) return;\n      if (confirm('Are you sure you want to delete this movie?')) {\n        this.movieService.deleteMovie(this.movie.id).subscribe({\n          next: () => {\n            this.router.navigate(['/movies/wishlist']);\n          },\n          error: error => {\n            console.error('Error deleting movie:', error);\n          }\n        });\n      }\n    }\n    static {\n      this.ɵfac = function MovieDetailComponent_Factory(t) {\n        return new (t || MovieDetailComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.MovieService), i0.ɵɵdirectiveInject(i3.FormBuilder));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: MovieDetailComponent,\n        selectors: [[\"app-movie-detail\"]],\n        decls: 2,\n        vars: 2,\n        consts: [[\"class\", \"container\", 4, \"ngIf\"], [1, \"container\"], [\"class\", \"loading-spinner\", 4, \"ngIf\"], [\"class\", \"alert alert-danger\", 4, \"ngIf\"], [\"class\", \"movie-detail\", 4, \"ngIf\"], [1, \"loading-spinner\"], [\"role\", \"status\", 1, \"spinner-border\", \"text-primary\"], [1, \"visually-hidden\"], [1, \"alert\", \"alert-danger\"], [1, \"movie-detail\"], [1, \"row\"], [1, \"col-md-4\"], [1, \"movie-poster\"], [3, \"src\", \"alt\", 4, \"ngIf\"], [\"class\", \"no-poster\", 4, \"ngIf\"], [1, \"col-md-8\"], [1, \"movie-header\"], [4, \"ngIf\"], [1, \"movie-status\"], [1, \"badge\", 3, \"ngClass\"], [1, \"movie-info\"], [\"class\", \"movie-review\", 4, \"ngIf\"], [1, \"movie-actions\"], [1, \"btn\", \"btn-primary\", 3, \"click\"], [1, \"material-icons\"], [1, \"btn\", \"btn-danger\", 3, \"click\"], [\"class\", \"btn btn-success\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"btn btn-warning\", 3, \"click\", 4, \"ngIf\"], [1, \"movie-social\"], [1, \"likes\"], [1, \"btn-like\", 3, \"ngClass\", \"click\"], [1, \"comments-section\"], [1, \"comment-form\", 3, \"formGroup\", \"ngSubmit\"], [1, \"mb-3\"], [\"formControlName\", \"content\", \"rows\", \"3\", \"placeholder\", \"Write a comment...\", 1, \"form-control\", 3, \"ngClass\"], [\"class\", \"invalid-feedback\", 4, \"ngIf\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"disabled\"], [\"class\", \"spinner-border spinner-border-sm me-1\", 4, \"ngIf\"], [1, \"comments-list\"], [\"class\", \"comment\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"no-comments\", 4, \"ngIf\"], [3, \"src\", \"alt\"], [1, \"no-poster\"], [1, \"movie-review\"], [1, \"btn\", \"btn-success\", 3, \"click\"], [1, \"btn\", \"btn-warning\", 3, \"click\"], [1, \"invalid-feedback\"], [1, \"spinner-border\", \"spinner-border-sm\", \"me-1\"], [1, \"comment\"], [1, \"comment-header\"], [1, \"comment-author\"], [1, \"comment-date\"], [1, \"comment-content\"], [1, \"no-comments\"], [1, \"not-found\"], [\"routerLink\", \"/movies/wishlist\", 1, \"btn\", \"btn-primary\"]],\n        template: function MovieDetailComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵtemplate(0, MovieDetailComponent_div_0_Template, 4, 3, \"div\", 0);\n            i0.ɵɵtemplate(1, MovieDetailComponent_div_1_Template, 10, 0, \"div\", 0);\n          }\n          if (rf & 2) {\n            i0.ɵɵproperty(\"ngIf\", ctx.movie);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", !ctx.movie && !ctx.loading && !ctx.error);\n          }\n        },\n        dependencies: [i4.NgClass, i4.NgForOf, i4.NgIf, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.FormGroupDirective, i3.FormControlName, i1.RouterLink, i4.DatePipe],\n        styles: [\".loading-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:50px 0}.movie-detail[_ngcontent-%COMP%]{margin:20px 0}.movie-poster[_ngcontent-%COMP%]{width:100%;border-radius:8px;overflow:hidden;box-shadow:0 4px 8px #0000001a}.movie-poster[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;display:block}.no-poster[_ngcontent-%COMP%]{background-color:#f0f0f0;height:400px;display:flex;align-items:center;justify-content:center}.no-poster[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:64px;color:#999}.movie-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.movie-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:28px;font-weight:700;color:#333}.movie-status[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{padding:8px 12px;border-radius:4px;font-size:14px;font-weight:700;text-transform:lowercase}.badge.wishlist[_ngcontent-%COMP%]{background-color:#ff9800;color:#fff}.badge.watched[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.movie-info[_ngcontent-%COMP%]{margin-bottom:20px}.movie-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:8px;font-size:16px;color:#555}.movie-review[_ngcontent-%COMP%]{margin-bottom:20px;padding:15px;background-color:#f9f9f9;border-radius:8px;border-left:4px solid #2196f3}.movie-review[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;font-size:18px;color:#333;margin-bottom:10px}.movie-actions[_ngcontent-%COMP%]{display:flex;gap:10px;margin-bottom:20px;flex-wrap:wrap}.movie-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px}.movie-social[_ngcontent-%COMP%]{margin-bottom:20px}.btn-like[_ngcontent-%COMP%]{background:none;border:none;display:flex;align-items:center;gap:5px;padding:8px 12px;border-radius:20px;transition:background-color .3s ease;cursor:pointer}.btn-like[_ngcontent-%COMP%]:hover{background-color:#0000000d}.btn-like[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#999;font-size:20px;transition:color .3s ease,transform .3s ease}.btn-like.liked[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#f44336;transform:scale(1.1)}.comments-section[_ngcontent-%COMP%]{margin-top:40px}.comments-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;margin-bottom:20px;color:#333;border-bottom:1px solid #eee;padding-bottom:10px}.comment-form[_ngcontent-%COMP%]{margin-bottom:30px}.comments-list[_ngcontent-%COMP%]{margin-top:20px}.comment[_ngcontent-%COMP%]{padding:15px;border-radius:8px;background-color:#f9f9f9;margin-bottom:15px}.comment-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:10px}.comment-author[_ngcontent-%COMP%]{font-weight:700;color:#333}.comment-date[_ngcontent-%COMP%]{font-size:12px;color:#777}.comment-content[_ngcontent-%COMP%]{color:#555;line-height:1.5}.no-comments[_ngcontent-%COMP%]{text-align:center;padding:20px;color:#777;font-style:italic}.not-found[_ngcontent-%COMP%]{text-align:center;padding:50px 0}.not-found[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:64px;color:#ddd;margin-bottom:20px}.not-found[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:10px;color:#555}.not-found[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:20px;color:#777}\"]\n      });\n    }\n  }\n  return MovieDetailComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}