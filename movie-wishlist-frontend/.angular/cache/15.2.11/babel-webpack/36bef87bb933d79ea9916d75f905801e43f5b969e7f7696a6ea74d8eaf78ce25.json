{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../../core/services/movie.service\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/common\";\nfunction MovieDetailComponent_div_0_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 5)(1, \"div\", 6)(2, \"span\", 7);\n    i0.ɵɵtext(3, \"Loading...\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction MovieDetailComponent_div_0_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r3.error, \" \");\n  }\n}\nfunction MovieDetailComponent_div_0_div_3_img_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 41);\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"src\", ctx_r5.movie.posterUrl, i0.ɵɵsanitizeUrl)(\"alt\", ctx_r5.movie.title);\n  }\n}\nfunction MovieDetailComponent_div_0_div_3_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 42)(1, \"i\", 24);\n    i0.ɵɵtext(2, \"movie\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction MovieDetailComponent_div_0_div_3_span_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"(\", ctx_r7.movie.releaseYear, \")\");\n  }\n}\nfunction MovieDetailComponent_div_0_div_3_p_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\")(1, \"strong\");\n    i0.ɵɵtext(2, \"Genre:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r8.movie.genre, \"\");\n  }\n}\nfunction MovieDetailComponent_div_0_div_3_p_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\")(1, \"strong\");\n    i0.ɵɵtext(2, \"Runtime:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r9 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r9.movie.runtime, \" minutes\");\n  }\n}\nfunction MovieDetailComponent_div_0_div_3_p_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\")(1, \"strong\");\n    i0.ɵɵtext(2, \"Your Rating:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r10 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r10.movie.rating, \"/10\");\n  }\n}\nfunction MovieDetailComponent_div_0_div_3_p_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\")(1, \"strong\");\n    i0.ɵɵtext(2, \"Added:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"date\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r11 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(4, 1, ctx_r11.movie.createdAt, \"medium\"), \"\");\n  }\n}\nfunction MovieDetailComponent_div_0_div_3_p_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\")(1, \"strong\");\n    i0.ɵɵtext(2, \"Last Updated:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"date\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r12 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(4, 1, ctx_r12.movie.updatedAt, \"medium\"), \"\");\n  }\n}\nfunction MovieDetailComponent_div_0_div_3_div_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 43)(1, \"h3\");\n    i0.ɵɵtext(2, \"Your Review\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r13 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r13.movie.review);\n  }\n}\nfunction MovieDetailComponent_div_0_div_3_button_30_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r22 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 44);\n    i0.ɵɵlistener(\"click\", function MovieDetailComponent_div_0_div_3_button_30_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r22);\n      const ctx_r21 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r21.changeStatus(\"WATCHED\"));\n    });\n    i0.ɵɵelementStart(1, \"i\", 24);\n    i0.ɵɵtext(2, \"visibility\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3, \" Mark as Watched \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MovieDetailComponent_div_0_div_3_button_31_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r24 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 45);\n    i0.ɵɵlistener(\"click\", function MovieDetailComponent_div_0_div_3_button_31_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r24);\n      const ctx_r23 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r23.changeStatus(\"WISHLIST\"));\n    });\n    i0.ɵɵelementStart(1, \"i\", 24);\n    i0.ɵɵtext(2, \"bookmark\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3, \" Move to Wishlist \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MovieDetailComponent_div_0_div_3_div_45_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 46);\n    i0.ɵɵtext(1, \" Comment cannot be empty. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MovieDetailComponent_div_0_div_3_div_46_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 46);\n    i0.ɵɵtext(1, \" Comment cannot exceed 500 characters. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MovieDetailComponent_div_0_div_3_span_48_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"span\", 47);\n  }\n}\nfunction MovieDetailComponent_div_0_div_3_div_51_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 48)(1, \"div\", 49)(2, \"span\", 50);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"span\", 51);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"date\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 52);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const comment_r25 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(comment_r25.username);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(6, 3, comment_r25.createdAt, \"medium\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", comment_r25.content, \" \");\n  }\n}\nfunction MovieDetailComponent_div_0_div_3_div_52_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 53)(1, \"p\");\n    i0.ɵɵtext(2, \"No comments yet. Be the first to comment!\");\n    i0.ɵɵelementEnd()();\n  }\n}\nconst _c0 = function (a0, a1) {\n  return {\n    \"wishlist\": a0,\n    \"watched\": a1\n  };\n};\nconst _c1 = function (a0) {\n  return {\n    \"liked\": a0\n  };\n};\nconst _c2 = function (a0) {\n  return {\n    \"is-invalid\": a0\n  };\n};\nfunction MovieDetailComponent_div_0_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r27 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 9)(1, \"div\", 10)(2, \"div\", 11)(3, \"div\", 12);\n    i0.ɵɵtemplate(4, MovieDetailComponent_div_0_div_3_img_4_Template, 1, 2, \"img\", 13);\n    i0.ɵɵtemplate(5, MovieDetailComponent_div_0_div_3_div_5_Template, 3, 0, \"div\", 14);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"div\", 15)(7, \"div\", 16)(8, \"h1\");\n    i0.ɵɵtext(9);\n    i0.ɵɵtemplate(10, MovieDetailComponent_div_0_div_3_span_10_Template, 2, 1, \"span\", 17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\", 18)(12, \"span\", 19);\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(14, \"div\", 20);\n    i0.ɵɵtemplate(15, MovieDetailComponent_div_0_div_3_p_15_Template, 4, 1, \"p\", 17);\n    i0.ɵɵtemplate(16, MovieDetailComponent_div_0_div_3_p_16_Template, 4, 1, \"p\", 17);\n    i0.ɵɵtemplate(17, MovieDetailComponent_div_0_div_3_p_17_Template, 4, 1, \"p\", 17);\n    i0.ɵɵtemplate(18, MovieDetailComponent_div_0_div_3_p_18_Template, 5, 4, \"p\", 17);\n    i0.ɵɵtemplate(19, MovieDetailComponent_div_0_div_3_p_19_Template, 5, 4, \"p\", 17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(20, MovieDetailComponent_div_0_div_3_div_20_Template, 5, 1, \"div\", 21);\n    i0.ɵɵelementStart(21, \"div\", 22)(22, \"button\", 23);\n    i0.ɵɵlistener(\"click\", function MovieDetailComponent_div_0_div_3_Template_button_click_22_listener() {\n      i0.ɵɵrestoreView(_r27);\n      const ctx_r26 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r26.editMovie());\n    });\n    i0.ɵɵelementStart(23, \"i\", 24);\n    i0.ɵɵtext(24, \"edit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(25, \" Edit \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"button\", 25);\n    i0.ɵɵlistener(\"click\", function MovieDetailComponent_div_0_div_3_Template_button_click_26_listener() {\n      i0.ɵɵrestoreView(_r27);\n      const ctx_r28 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r28.deleteMovie());\n    });\n    i0.ɵɵelementStart(27, \"i\", 24);\n    i0.ɵɵtext(28, \"delete\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(29, \" Delete \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(30, MovieDetailComponent_div_0_div_3_button_30_Template, 4, 0, \"button\", 26);\n    i0.ɵɵtemplate(31, MovieDetailComponent_div_0_div_3_button_31_Template, 4, 0, \"button\", 27);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(32, \"div\", 28)(33, \"div\", 29)(34, \"button\", 30);\n    i0.ɵɵlistener(\"click\", function MovieDetailComponent_div_0_div_3_Template_button_click_34_listener() {\n      i0.ɵɵrestoreView(_r27);\n      const ctx_r29 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r29.toggleLike());\n    });\n    i0.ɵɵelementStart(35, \"i\", 24);\n    i0.ɵɵtext(36, \"favorite\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(37, \"span\");\n    i0.ɵɵtext(38);\n    i0.ɵɵelementEnd()()()()()();\n    i0.ɵɵelementStart(39, \"div\", 31)(40, \"h3\");\n    i0.ɵɵtext(41);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(42, \"form\", 32);\n    i0.ɵɵlistener(\"ngSubmit\", function MovieDetailComponent_div_0_div_3_Template_form_ngSubmit_42_listener() {\n      i0.ɵɵrestoreView(_r27);\n      const ctx_r30 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r30.submitComment());\n    });\n    i0.ɵɵelementStart(43, \"div\", 33);\n    i0.ɵɵelement(44, \"textarea\", 34);\n    i0.ɵɵtemplate(45, MovieDetailComponent_div_0_div_3_div_45_Template, 2, 0, \"div\", 35);\n    i0.ɵɵtemplate(46, MovieDetailComponent_div_0_div_3_div_46_Template, 2, 0, \"div\", 35);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(47, \"button\", 36);\n    i0.ɵɵtemplate(48, MovieDetailComponent_div_0_div_3_span_48_Template, 1, 0, \"span\", 37);\n    i0.ɵɵtext(49, \" Post Comment \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(50, \"div\", 38);\n    i0.ɵɵtemplate(51, MovieDetailComponent_div_0_div_3_div_51_Template, 9, 6, \"div\", 39);\n    i0.ɵɵtemplate(52, MovieDetailComponent_div_0_div_3_div_52_Template, 3, 0, \"div\", 40);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    let tmp_18_0;\n    let tmp_19_0;\n    let tmp_20_0;\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.movie.posterUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r4.movie.posterUrl);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r4.movie.title, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.movie.releaseYear);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(25, _c0, ctx_r4.movie.status === \"WISHLIST\", ctx_r4.movie.status === \"WATCHED\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r4.movie.status);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.movie.genre);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.movie.runtime);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.movie.rating);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.movie.createdAt);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.movie.updatedAt);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.movie.review);\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.movie.status === \"WISHLIST\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.movie.status === \"WATCHED\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(28, _c1, ctx_r4.movie.userLiked));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r4.movie.likesCount || 0, \" likes\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Comments (\", ctx_r4.comments.length, \")\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"formGroup\", ctx_r4.commentForm);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(30, _c2, ((tmp_18_0 = ctx_r4.commentForm.get(\"content\")) == null ? null : tmp_18_0.invalid) && ((tmp_18_0 = ctx_r4.commentForm.get(\"content\")) == null ? null : tmp_18_0.touched)));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_19_0 = ctx_r4.commentForm.get(\"content\")) == null ? null : tmp_19_0.errors == null ? null : tmp_19_0.errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_20_0 = ctx_r4.commentForm.get(\"content\")) == null ? null : tmp_20_0.errors == null ? null : tmp_20_0.errors[\"maxlength\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"disabled\", ctx_r4.commentForm.invalid || ctx_r4.commentLoading);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.commentLoading);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r4.comments);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.comments.length === 0);\n  }\n}\nfunction MovieDetailComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 1);\n    i0.ɵɵtemplate(1, MovieDetailComponent_div_0_div_1_Template, 4, 0, \"div\", 2);\n    i0.ɵɵtemplate(2, MovieDetailComponent_div_0_div_2_Template, 2, 1, \"div\", 3);\n    i0.ɵɵtemplate(3, MovieDetailComponent_div_0_div_3_Template, 53, 32, \"div\", 4);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.loading);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.error);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.movie && !ctx_r0.loading);\n  }\n}\nfunction MovieDetailComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 1)(1, \"div\", 54)(2, \"i\", 24);\n    i0.ɵɵtext(3, \"movie_filter\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"h2\");\n    i0.ɵɵtext(5, \"Movie Not Found\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\");\n    i0.ɵɵtext(7, \"The movie you're looking for doesn't exist or has been removed.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"button\", 55);\n    i0.ɵɵtext(9, \"Back to Wishlist\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nexport class MovieDetailComponent {\n  constructor(route, router, movieService, formBuilder) {\n    this.route = route;\n    this.router = router;\n    this.movieService = movieService;\n    this.formBuilder = formBuilder;\n    this.movie = null;\n    this.comments = [];\n    this.loading = false;\n    this.commentLoading = false;\n    this.error = '';\n  }\n  ngOnInit() {\n    this.commentForm = this.formBuilder.group({\n      content: ['', [Validators.required, Validators.maxLength(500)]]\n    });\n    this.route.paramMap.subscribe(params => {\n      const id = Number(params.get('id'));\n      if (id) {\n        this.loadMovie(id);\n        this.loadComments(id);\n      }\n    });\n  }\n  loadMovie(id) {\n    this.loading = true;\n    this.movieService.getMovie(id).subscribe({\n      next: movie => {\n        this.movie = movie;\n        this.loading = false;\n      },\n      error: error => {\n        this.error = 'Failed to load movie details. Please try again later.';\n        console.error('Error loading movie:', error);\n        this.loading = false;\n      }\n    });\n  }\n  loadComments(id) {\n    this.movieService.getComments(id).subscribe({\n      next: comments => {\n        this.comments = comments;\n      },\n      error: error => {\n        console.error('Error loading comments:', error);\n      }\n    });\n  }\n  toggleLike() {\n    if (!this.movie) return;\n    if (this.movie.userLiked) {\n      this.movieService.unlikeMovie(this.movie.id).subscribe({\n        next: () => {\n          if (this.movie) {\n            this.movie.userLiked = false;\n            this.movie.likesCount = (this.movie.likesCount || 0) - 1;\n          }\n        },\n        error: error => {\n          console.error('Error unliking movie:', error);\n        }\n      });\n    } else {\n      this.movieService.likeMovie(this.movie.id).subscribe({\n        next: () => {\n          if (this.movie) {\n            this.movie.userLiked = true;\n            this.movie.likesCount = (this.movie.likesCount || 0) + 1;\n          }\n        },\n        error: error => {\n          console.error('Error liking movie:', error);\n        }\n      });\n    }\n  }\n  submitComment() {\n    if (this.commentForm.invalid || !this.movie) return;\n    this.commentLoading = true;\n    const content = this.commentForm.get('content')?.value;\n    this.movieService.addComment(this.movie.id, content).subscribe({\n      next: comment => {\n        this.comments.unshift(comment);\n        this.commentForm.reset();\n        this.commentLoading = false;\n        if (this.movie) {\n          this.movie.commentsCount = (this.movie.commentsCount || 0) + 1;\n        }\n      },\n      error: error => {\n        console.error('Error adding comment:', error);\n        this.commentLoading = false;\n      }\n    });\n  }\n  changeStatus(status) {\n    if (!this.movie) return;\n    const updatedMovie = {\n      ...this.movie,\n      status\n    };\n    this.loading = true;\n    this.movieService.updateMovie(this.movie.id, updatedMovie).subscribe({\n      next: movie => {\n        this.movie = movie;\n        this.loading = false;\n      },\n      error: error => {\n        console.error('Error updating movie status:', error);\n        this.error = 'Failed to update movie status. Please try again.';\n        this.loading = false;\n      }\n    });\n  }\n  editMovie() {\n    if (!this.movie) return;\n    this.router.navigate(['/movies/edit', this.movie.id]);\n  }\n  deleteMovie() {\n    if (!this.movie) return;\n    if (confirm('Are you sure you want to delete this movie?')) {\n      this.movieService.deleteMovie(this.movie.id).subscribe({\n        next: () => {\n          this.router.navigate(['/movies/wishlist']);\n        },\n        error: error => {\n          console.error('Error deleting movie:', error);\n        }\n      });\n    }\n  }\n  static {\n    this.ɵfac = function MovieDetailComponent_Factory(t) {\n      return new (t || MovieDetailComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.MovieService), i0.ɵɵdirectiveInject(i3.FormBuilder));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: MovieDetailComponent,\n      selectors: [[\"app-movie-detail\"]],\n      decls: 2,\n      vars: 2,\n      consts: [[\"class\", \"container\", 4, \"ngIf\"], [1, \"container\"], [\"class\", \"loading-spinner\", 4, \"ngIf\"], [\"class\", \"alert alert-danger\", 4, \"ngIf\"], [\"class\", \"movie-detail\", 4, \"ngIf\"], [1, \"loading-spinner\"], [\"role\", \"status\", 1, \"spinner-border\", \"text-primary\"], [1, \"visually-hidden\"], [1, \"alert\", \"alert-danger\"], [1, \"movie-detail\"], [1, \"row\"], [1, \"col-md-4\"], [1, \"movie-poster\"], [\"onerror\", \"this.onerror=null; this.src='assets/images/no-poster.png';\", 3, \"src\", \"alt\", 4, \"ngIf\"], [\"class\", \"no-poster\", 4, \"ngIf\"], [1, \"col-md-8\"], [1, \"movie-header\"], [4, \"ngIf\"], [1, \"movie-status\"], [1, \"badge\", 3, \"ngClass\"], [1, \"movie-info\"], [\"class\", \"movie-review\", 4, \"ngIf\"], [1, \"movie-actions\"], [1, \"btn\", \"btn-primary\", 3, \"click\"], [1, \"material-icons\"], [1, \"btn\", \"btn-danger\", 3, \"click\"], [\"class\", \"btn btn-success\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"btn btn-warning\", 3, \"click\", 4, \"ngIf\"], [1, \"movie-social\"], [1, \"likes\"], [1, \"btn-like\", 3, \"ngClass\", \"click\"], [1, \"comments-section\"], [1, \"comment-form\", 3, \"formGroup\", \"ngSubmit\"], [1, \"mb-3\"], [\"formControlName\", \"content\", \"rows\", \"3\", \"placeholder\", \"Write a comment...\", 1, \"form-control\", 3, \"ngClass\"], [\"class\", \"invalid-feedback\", 4, \"ngIf\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"disabled\"], [\"class\", \"spinner-border spinner-border-sm me-1\", 4, \"ngIf\"], [1, \"comments-list\"], [\"class\", \"comment\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"no-comments\", 4, \"ngIf\"], [\"onerror\", \"this.onerror=null; this.src='assets/images/no-poster.png';\", 3, \"src\", \"alt\"], [1, \"no-poster\"], [1, \"movie-review\"], [1, \"btn\", \"btn-success\", 3, \"click\"], [1, \"btn\", \"btn-warning\", 3, \"click\"], [1, \"invalid-feedback\"], [1, \"spinner-border\", \"spinner-border-sm\", \"me-1\"], [1, \"comment\"], [1, \"comment-header\"], [1, \"comment-author\"], [1, \"comment-date\"], [1, \"comment-content\"], [1, \"no-comments\"], [1, \"not-found\"], [\"routerLink\", \"/movies/wishlist\", 1, \"btn\", \"btn-primary\"]],\n      template: function MovieDetailComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵtemplate(0, MovieDetailComponent_div_0_Template, 4, 3, \"div\", 0);\n          i0.ɵɵtemplate(1, MovieDetailComponent_div_1_Template, 10, 0, \"div\", 0);\n        }\n        if (rf & 2) {\n          i0.ɵɵproperty(\"ngIf\", ctx.movie);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.movie && !ctx.loading && !ctx.error);\n        }\n      },\n      dependencies: [i4.NgClass, i4.NgForOf, i4.NgIf, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.FormGroupDirective, i3.FormControlName, i1.RouterLink, i4.DatePipe],\n      styles: [\".loading-spinner[_ngcontent-%COMP%] {\\r\\n  display: flex;\\r\\n  justify-content: center;\\r\\n  padding: 50px 0;\\r\\n}\\r\\n\\r\\n.movie-detail[_ngcontent-%COMP%] {\\r\\n  margin: 20px 0;\\r\\n}\\r\\n\\r\\n.movie-poster[_ngcontent-%COMP%] {\\r\\n  width: 100%;\\r\\n  border-radius: 8px;\\r\\n  overflow: hidden;\\r\\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\\r\\n}\\r\\n\\r\\n.movie-poster[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\r\\n  width: 100%;\\r\\n  height: auto;\\r\\n  display: block;\\r\\n}\\r\\n\\r\\n.no-poster[_ngcontent-%COMP%] {\\r\\n  background-color: #f0f0f0;\\r\\n  height: 400px;\\r\\n  display: flex;\\r\\n  align-items: center;\\r\\n  justify-content: center;\\r\\n}\\r\\n\\r\\n.no-poster[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\\r\\n  font-size: 64px;\\r\\n  color: #999;\\r\\n}\\r\\n\\r\\n.movie-header[_ngcontent-%COMP%] {\\r\\n  display: flex;\\r\\n  justify-content: space-between;\\r\\n  align-items: center;\\r\\n  margin-bottom: 20px;\\r\\n}\\r\\n\\r\\n.movie-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%] {\\r\\n  margin: 0;\\r\\n  font-size: 28px;\\r\\n  font-weight: bold;\\r\\n  color: #333;\\r\\n}\\r\\n\\r\\n.movie-status[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%] {\\r\\n  padding: 8px 12px;\\r\\n  border-radius: 4px;\\r\\n  font-size: 14px;\\r\\n  font-weight: bold;\\r\\n  text-transform: lowercase;\\r\\n}\\r\\n\\r\\n.badge.wishlist[_ngcontent-%COMP%] {\\r\\n  background-color: #ff9800;\\r\\n  color: white;\\r\\n}\\r\\n\\r\\n.badge.watched[_ngcontent-%COMP%] {\\r\\n  background-color: #4caf50;\\r\\n  color: white;\\r\\n}\\r\\n\\r\\n.movie-info[_ngcontent-%COMP%] {\\r\\n  margin-bottom: 20px;\\r\\n}\\r\\n\\r\\n.movie-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\r\\n  margin-bottom: 8px;\\r\\n  font-size: 16px;\\r\\n  color: #555;\\r\\n}\\r\\n\\r\\n.movie-review[_ngcontent-%COMP%] {\\r\\n  margin-bottom: 20px;\\r\\n  padding: 15px;\\r\\n  background-color: #f9f9f9;\\r\\n  border-radius: 8px;\\r\\n  border-left: 4px solid #2196f3;\\r\\n}\\r\\n\\r\\n.movie-review[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] {\\r\\n  margin-top: 0;\\r\\n  font-size: 18px;\\r\\n  color: #333;\\r\\n  margin-bottom: 10px;\\r\\n}\\r\\n\\r\\n.movie-actions[_ngcontent-%COMP%] {\\r\\n  display: flex;\\r\\n  gap: 10px;\\r\\n  margin-bottom: 20px;\\r\\n  flex-wrap: wrap;\\r\\n}\\r\\n\\r\\n.movie-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%] {\\r\\n  display: flex;\\r\\n  align-items: center;\\r\\n  gap: 5px;\\r\\n}\\r\\n\\r\\n.movie-social[_ngcontent-%COMP%] {\\r\\n  margin-bottom: 20px;\\r\\n}\\r\\n\\r\\n.btn-like[_ngcontent-%COMP%] {\\r\\n  background: none;\\r\\n  border: none;\\r\\n  display: flex;\\r\\n  align-items: center;\\r\\n  gap: 5px;\\r\\n  padding: 8px 12px;\\r\\n  border-radius: 20px;\\r\\n  transition: background-color 0.3s ease;\\r\\n  cursor: pointer;\\r\\n}\\r\\n\\r\\n.btn-like[_ngcontent-%COMP%]:hover {\\r\\n  background-color: rgba(0, 0, 0, 0.05);\\r\\n}\\r\\n\\r\\n.btn-like[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\\r\\n  color: #999;\\r\\n  font-size: 20px;\\r\\n  transition: color 0.3s ease, transform 0.3s ease;\\r\\n}\\r\\n\\r\\n.btn-like.liked[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\\r\\n  color: #f44336;\\r\\n  transform: scale(1.1);\\r\\n}\\r\\n\\r\\n.comments-section[_ngcontent-%COMP%] {\\r\\n  margin-top: 40px;\\r\\n}\\r\\n\\r\\n.comments-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] {\\r\\n  font-size: 20px;\\r\\n  margin-bottom: 20px;\\r\\n  color: #333;\\r\\n  border-bottom: 1px solid #eee;\\r\\n  padding-bottom: 10px;\\r\\n}\\r\\n\\r\\n.comment-form[_ngcontent-%COMP%] {\\r\\n  margin-bottom: 30px;\\r\\n}\\r\\n\\r\\n.comments-list[_ngcontent-%COMP%] {\\r\\n  margin-top: 20px;\\r\\n}\\r\\n\\r\\n.comment[_ngcontent-%COMP%] {\\r\\n  padding: 15px;\\r\\n  border-radius: 8px;\\r\\n  background-color: #f9f9f9;\\r\\n  margin-bottom: 15px;\\r\\n}\\r\\n\\r\\n.comment-header[_ngcontent-%COMP%] {\\r\\n  display: flex;\\r\\n  justify-content: space-between;\\r\\n  margin-bottom: 10px;\\r\\n}\\r\\n\\r\\n.comment-author[_ngcontent-%COMP%] {\\r\\n  font-weight: bold;\\r\\n  color: #333;\\r\\n}\\r\\n\\r\\n.comment-date[_ngcontent-%COMP%] {\\r\\n  font-size: 12px;\\r\\n  color: #777;\\r\\n}\\r\\n\\r\\n.comment-content[_ngcontent-%COMP%] {\\r\\n  color: #555;\\r\\n  line-height: 1.5;\\r\\n}\\r\\n\\r\\n.no-comments[_ngcontent-%COMP%] {\\r\\n  text-align: center;\\r\\n  padding: 20px;\\r\\n  color: #777;\\r\\n  font-style: italic;\\r\\n}\\r\\n\\r\\n.not-found[_ngcontent-%COMP%] {\\r\\n  text-align: center;\\r\\n  padding: 50px 0;\\r\\n}\\r\\n\\r\\n.not-found[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\\r\\n  font-size: 64px;\\r\\n  color: #ddd;\\r\\n  margin-bottom: 20px;\\r\\n}\\r\\n\\r\\n.not-found[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\\r\\n  margin-bottom: 10px;\\r\\n  color: #555;\\r\\n}\\r\\n\\r\\n.not-found[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\r\\n  margin-bottom: 20px;\\r\\n  color: #777;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZmVhdHVyZXMvbW92aWVzL21vdmllLWRldGFpbC9tb3ZpZS1kZXRhaWwuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGFBQWE7RUFDYix1QkFBdUI7RUFDdkIsZUFBZTtBQUNqQjs7QUFFQTtFQUNFLGNBQWM7QUFDaEI7O0FBRUE7RUFDRSxXQUFXO0VBQ1gsa0JBQWtCO0VBQ2xCLGdCQUFnQjtFQUNoQix3Q0FBd0M7QUFDMUM7O0FBRUE7RUFDRSxXQUFXO0VBQ1gsWUFBWTtFQUNaLGNBQWM7QUFDaEI7O0FBRUE7RUFDRSx5QkFBeUI7RUFDekIsYUFBYTtFQUNiLGFBQWE7RUFDYixtQkFBbUI7RUFDbkIsdUJBQXVCO0FBQ3pCOztBQUVBO0VBQ0UsZUFBZTtFQUNmLFdBQVc7QUFDYjs7QUFFQTtFQUNFLGFBQWE7RUFDYiw4QkFBOEI7RUFDOUIsbUJBQW1CO0VBQ25CLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLFNBQVM7RUFDVCxlQUFlO0VBQ2YsaUJBQWlCO0VBQ2pCLFdBQVc7QUFDYjs7QUFFQTtFQUNFLGlCQUFpQjtFQUNqQixrQkFBa0I7RUFDbEIsZUFBZTtFQUNmLGlCQUFpQjtFQUNqQix5QkFBeUI7QUFDM0I7O0FBRUE7RUFDRSx5QkFBeUI7RUFDekIsWUFBWTtBQUNkOztBQUVBO0VBQ0UseUJBQXlCO0VBQ3pCLFlBQVk7QUFDZDs7QUFFQTtFQUNFLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLGtCQUFrQjtFQUNsQixlQUFlO0VBQ2YsV0FBVztBQUNiOztBQUVBO0VBQ0UsbUJBQW1CO0VBQ25CLGFBQWE7RUFDYix5QkFBeUI7RUFDekIsa0JBQWtCO0VBQ2xCLDhCQUE4QjtBQUNoQzs7QUFFQTtFQUNFLGFBQWE7RUFDYixlQUFlO0VBQ2YsV0FBVztFQUNYLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLGFBQWE7RUFDYixTQUFTO0VBQ1QsbUJBQW1CO0VBQ25CLGVBQWU7QUFDakI7O0FBRUE7RUFDRSxhQUFhO0VBQ2IsbUJBQW1CO0VBQ25CLFFBQVE7QUFDVjs7QUFFQTtFQUNFLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLGdCQUFnQjtFQUNoQixZQUFZO0VBQ1osYUFBYTtFQUNiLG1CQUFtQjtFQUNuQixRQUFRO0VBQ1IsaUJBQWlCO0VBQ2pCLG1CQUFtQjtFQUNuQixzQ0FBc0M7RUFDdEMsZUFBZTtBQUNqQjs7QUFFQTtFQUNFLHFDQUFxQztBQUN2Qzs7QUFFQTtFQUNFLFdBQVc7RUFDWCxlQUFlO0VBQ2YsZ0RBQWdEO0FBQ2xEOztBQUVBO0VBQ0UsY0FBYztFQUNkLHFCQUFxQjtBQUN2Qjs7QUFFQTtFQUNFLGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLGVBQWU7RUFDZixtQkFBbUI7RUFDbkIsV0FBVztFQUNYLDZCQUE2QjtFQUM3QixvQkFBb0I7QUFDdEI7O0FBRUE7RUFDRSxtQkFBbUI7QUFDckI7O0FBRUE7RUFDRSxnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSxhQUFhO0VBQ2Isa0JBQWtCO0VBQ2xCLHlCQUF5QjtFQUN6QixtQkFBbUI7QUFDckI7O0FBRUE7RUFDRSxhQUFhO0VBQ2IsOEJBQThCO0VBQzlCLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLGlCQUFpQjtFQUNqQixXQUFXO0FBQ2I7O0FBRUE7RUFDRSxlQUFlO0VBQ2YsV0FBVztBQUNiOztBQUVBO0VBQ0UsV0FBVztFQUNYLGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLGtCQUFrQjtFQUNsQixhQUFhO0VBQ2IsV0FBVztFQUNYLGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFLGtCQUFrQjtFQUNsQixlQUFlO0FBQ2pCOztBQUVBO0VBQ0UsZUFBZTtFQUNmLFdBQVc7RUFDWCxtQkFBbUI7QUFDckI7O0FBRUE7RUFDRSxtQkFBbUI7RUFDbkIsV0FBVztBQUNiOztBQUVBO0VBQ0UsbUJBQW1CO0VBQ25CLFdBQVc7QUFDYiIsInNvdXJjZXNDb250ZW50IjpbIi5sb2FkaW5nLXNwaW5uZXIge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgcGFkZGluZzogNTBweCAwO1xyXG59XHJcblxyXG4ubW92aWUtZGV0YWlsIHtcclxuICBtYXJnaW46IDIwcHggMDtcclxufVxyXG5cclxuLm1vdmllLXBvc3RlciB7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgYm9yZGVyLXJhZGl1czogOHB4O1xyXG4gIG92ZXJmbG93OiBoaWRkZW47XHJcbiAgYm94LXNoYWRvdzogMCA0cHggOHB4IHJnYmEoMCwgMCwgMCwgMC4xKTtcclxufVxyXG5cclxuLm1vdmllLXBvc3RlciBpbWcge1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIGhlaWdodDogYXV0bztcclxuICBkaXNwbGF5OiBibG9jaztcclxufVxyXG5cclxuLm5vLXBvc3RlciB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogI2YwZjBmMDtcclxuICBoZWlnaHQ6IDQwMHB4O1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxufVxyXG5cclxuLm5vLXBvc3RlciBpIHtcclxuICBmb250LXNpemU6IDY0cHg7XHJcbiAgY29sb3I6ICM5OTk7XHJcbn1cclxuXHJcbi5tb3ZpZS1oZWFkZXIge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgbWFyZ2luLWJvdHRvbTogMjBweDtcclxufVxyXG5cclxuLm1vdmllLWhlYWRlciBoMSB7XHJcbiAgbWFyZ2luOiAwO1xyXG4gIGZvbnQtc2l6ZTogMjhweDtcclxuICBmb250LXdlaWdodDogYm9sZDtcclxuICBjb2xvcjogIzMzMztcclxufVxyXG5cclxuLm1vdmllLXN0YXR1cyAuYmFkZ2Uge1xyXG4gIHBhZGRpbmc6IDhweCAxMnB4O1xyXG4gIGJvcmRlci1yYWRpdXM6IDRweDtcclxuICBmb250LXNpemU6IDE0cHg7XHJcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgdGV4dC10cmFuc2Zvcm06IGxvd2VyY2FzZTtcclxufVxyXG5cclxuLmJhZGdlLndpc2hsaXN0IHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmY5ODAwO1xyXG4gIGNvbG9yOiB3aGl0ZTtcclxufVxyXG5cclxuLmJhZGdlLndhdGNoZWQge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICM0Y2FmNTA7XHJcbiAgY29sb3I6IHdoaXRlO1xyXG59XHJcblxyXG4ubW92aWUtaW5mbyB7XHJcbiAgbWFyZ2luLWJvdHRvbTogMjBweDtcclxufVxyXG5cclxuLm1vdmllLWluZm8gcCB7XHJcbiAgbWFyZ2luLWJvdHRvbTogOHB4O1xyXG4gIGZvbnQtc2l6ZTogMTZweDtcclxuICBjb2xvcjogIzU1NTtcclxufVxyXG5cclxuLm1vdmllLXJldmlldyB7XHJcbiAgbWFyZ2luLWJvdHRvbTogMjBweDtcclxuICBwYWRkaW5nOiAxNXB4O1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNmOWY5Zjk7XHJcbiAgYm9yZGVyLXJhZGl1czogOHB4O1xyXG4gIGJvcmRlci1sZWZ0OiA0cHggc29saWQgIzIxOTZmMztcclxufVxyXG5cclxuLm1vdmllLXJldmlldyBoMyB7XHJcbiAgbWFyZ2luLXRvcDogMDtcclxuICBmb250LXNpemU6IDE4cHg7XHJcbiAgY29sb3I6ICMzMzM7XHJcbiAgbWFyZ2luLWJvdHRvbTogMTBweDtcclxufVxyXG5cclxuLm1vdmllLWFjdGlvbnMge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgZ2FwOiAxMHB4O1xyXG4gIG1hcmdpbi1ib3R0b206IDIwcHg7XHJcbiAgZmxleC13cmFwOiB3cmFwO1xyXG59XHJcblxyXG4ubW92aWUtYWN0aW9ucyAuYnRuIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgZ2FwOiA1cHg7XHJcbn1cclxuXHJcbi5tb3ZpZS1zb2NpYWwge1xyXG4gIG1hcmdpbi1ib3R0b206IDIwcHg7XHJcbn1cclxuXHJcbi5idG4tbGlrZSB7XHJcbiAgYmFja2dyb3VuZDogbm9uZTtcclxuICBib3JkZXI6IG5vbmU7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gIGdhcDogNXB4O1xyXG4gIHBhZGRpbmc6IDhweCAxMnB4O1xyXG4gIGJvcmRlci1yYWRpdXM6IDIwcHg7XHJcbiAgdHJhbnNpdGlvbjogYmFja2dyb3VuZC1jb2xvciAwLjNzIGVhc2U7XHJcbiAgY3Vyc29yOiBwb2ludGVyO1xyXG59XHJcblxyXG4uYnRuLWxpa2U6aG92ZXIge1xyXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC4wNSk7XHJcbn1cclxuXHJcbi5idG4tbGlrZSBpIHtcclxuICBjb2xvcjogIzk5OTtcclxuICBmb250LXNpemU6IDIwcHg7XHJcbiAgdHJhbnNpdGlvbjogY29sb3IgMC4zcyBlYXNlLCB0cmFuc2Zvcm0gMC4zcyBlYXNlO1xyXG59XHJcblxyXG4uYnRuLWxpa2UubGlrZWQgaSB7XHJcbiAgY29sb3I6ICNmNDQzMzY7XHJcbiAgdHJhbnNmb3JtOiBzY2FsZSgxLjEpO1xyXG59XHJcblxyXG4uY29tbWVudHMtc2VjdGlvbiB7XHJcbiAgbWFyZ2luLXRvcDogNDBweDtcclxufVxyXG5cclxuLmNvbW1lbnRzLXNlY3Rpb24gaDMge1xyXG4gIGZvbnQtc2l6ZTogMjBweDtcclxuICBtYXJnaW4tYm90dG9tOiAyMHB4O1xyXG4gIGNvbG9yOiAjMzMzO1xyXG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZWVlO1xyXG4gIHBhZGRpbmctYm90dG9tOiAxMHB4O1xyXG59XHJcblxyXG4uY29tbWVudC1mb3JtIHtcclxuICBtYXJnaW4tYm90dG9tOiAzMHB4O1xyXG59XHJcblxyXG4uY29tbWVudHMtbGlzdCB7XHJcbiAgbWFyZ2luLXRvcDogMjBweDtcclxufVxyXG5cclxuLmNvbW1lbnQge1xyXG4gIHBhZGRpbmc6IDE1cHg7XHJcbiAgYm9yZGVyLXJhZGl1czogOHB4O1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNmOWY5Zjk7XHJcbiAgbWFyZ2luLWJvdHRvbTogMTVweDtcclxufVxyXG5cclxuLmNvbW1lbnQtaGVhZGVyIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcclxuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xyXG59XHJcblxyXG4uY29tbWVudC1hdXRob3Ige1xyXG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG4gIGNvbG9yOiAjMzMzO1xyXG59XHJcblxyXG4uY29tbWVudC1kYXRlIHtcclxuICBmb250LXNpemU6IDEycHg7XHJcbiAgY29sb3I6ICM3Nzc7XHJcbn1cclxuXHJcbi5jb21tZW50LWNvbnRlbnQge1xyXG4gIGNvbG9yOiAjNTU1O1xyXG4gIGxpbmUtaGVpZ2h0OiAxLjU7XHJcbn1cclxuXHJcbi5uby1jb21tZW50cyB7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gIHBhZGRpbmc6IDIwcHg7XHJcbiAgY29sb3I6ICM3Nzc7XHJcbiAgZm9udC1zdHlsZTogaXRhbGljO1xyXG59XHJcblxyXG4ubm90LWZvdW5kIHtcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgcGFkZGluZzogNTBweCAwO1xyXG59XHJcblxyXG4ubm90LWZvdW5kIGkge1xyXG4gIGZvbnQtc2l6ZTogNjRweDtcclxuICBjb2xvcjogI2RkZDtcclxuICBtYXJnaW4tYm90dG9tOiAyMHB4O1xyXG59XHJcblxyXG4ubm90LWZvdW5kIGgyIHtcclxuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xyXG4gIGNvbG9yOiAjNTU1O1xyXG59XHJcblxyXG4ubm90LWZvdW5kIHAge1xyXG4gIG1hcmdpbi1ib3R0b206IDIwcHg7XHJcbiAgY29sb3I6ICM3Nzc7XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n    });\n  }\n}","map":{"version":3,"mappings":"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","names":["Validators","i0","MovieDetailComponent","constructor","route","router","movieService","formBuilder","ngOnInit","commentForm","group","content","required","maxLength","paramMap","subscribe","params","id","Number","get","loadMovie","loadComments","loading","getMovie","next","movie","error","console","getComments","comments","toggleLike","userLiked","unlikeMovie","likesCount","likeMovie","submitComment","invalid","commentLoading","value","addComment","comment","unshift","reset","commentsCount","changeStatus","status","updatedMovie","updateMovie","editMovie","navigate","deleteMovie","confirm","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\Aditya\\Downloads\\MovieListIO\\movie-wishlist-frontend\\src\\app\\features\\movies\\movie-detail\\movie-detail.component.ts","C:\\Users\\Aditya\\Downloads\\MovieListIO\\movie-wishlist-frontend\\src\\app\\features\\movies\\movie-detail\\movie-detail.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { Movie } from '../../../core/models/movie.model';\r\nimport { MovieService } from '../../../core/services/movie.service';\r\n\r\n@Component({\r\n  selector: 'app-movie-detail',\r\n  templateUrl: './movie-detail.component.html',\r\n  styleUrls: ['./movie-detail.component.css']\r\n})\r\nexport class MovieDetailComponent implements OnInit {\r\n  movie: Movie | null = null;\r\n  comments: any[] = [];\r\n  loading = false;\r\n  commentLoading = false;\r\n  error = '';\r\n  commentForm!: FormGroup;\r\n  \r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private router: Router,\r\n    private movieService: MovieService,\r\n    private formBuilder: FormBuilder\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.commentForm = this.formBuilder.group({\r\n      content: ['', [Validators.required, Validators.maxLength(500)]]\r\n    });\r\n    \r\n    this.route.paramMap.subscribe(params => {\r\n      const id = Number(params.get('id'));\r\n      if (id) {\r\n        this.loadMovie(id);\r\n        this.loadComments(id);\r\n      }\r\n    });\r\n  }\r\n\r\n  loadMovie(id: number): void {\r\n    this.loading = true;\r\n    this.movieService.getMovie(id).subscribe({\r\n      next: (movie) => {\r\n        this.movie = movie;\r\n        this.loading = false;\r\n      },\r\n      error: (error) => {\r\n        this.error = 'Failed to load movie details. Please try again later.';\r\n        console.error('Error loading movie:', error);\r\n        this.loading = false;\r\n      }\r\n    });\r\n  }\r\n\r\n  loadComments(id: number): void {\r\n    this.movieService.getComments(id).subscribe({\r\n      next: (comments) => {\r\n        this.comments = comments;\r\n      },\r\n      error: (error) => {\r\n        console.error('Error loading comments:', error);\r\n      }\r\n    });\r\n  }\r\n\r\n  toggleLike(): void {\r\n    if (!this.movie) return;\r\n    \r\n    if (this.movie.userLiked) {\r\n      this.movieService.unlikeMovie(this.movie.id).subscribe({\r\n        next: () => {\r\n          if (this.movie) {\r\n            this.movie.userLiked = false;\r\n            this.movie.likesCount = (this.movie.likesCount || 0) - 1;\r\n          }\r\n        },\r\n        error: (error) => {\r\n          console.error('Error unliking movie:', error);\r\n        }\r\n      });\r\n    } else {\r\n      this.movieService.likeMovie(this.movie.id).subscribe({\r\n        next: () => {\r\n          if (this.movie) {\r\n            this.movie.userLiked = true;\r\n            this.movie.likesCount = (this.movie.likesCount || 0) + 1;\r\n          }\r\n        },\r\n        error: (error) => {\r\n          console.error('Error liking movie:', error);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  submitComment(): void {\r\n    if (this.commentForm.invalid || !this.movie) return;\r\n    \r\n    this.commentLoading = true;\r\n    const content = this.commentForm.get('content')?.value;\r\n    \r\n    this.movieService.addComment(this.movie.id, content).subscribe({\r\n      next: (comment) => {\r\n        this.comments.unshift(comment);\r\n        this.commentForm.reset();\r\n        this.commentLoading = false;\r\n        if (this.movie) {\r\n          this.movie.commentsCount = (this.movie.commentsCount || 0) + 1;\r\n        }\r\n      },\r\n      error: (error) => {\r\n        console.error('Error adding comment:', error);\r\n        this.commentLoading = false;\r\n      }\r\n    });\r\n  }\r\n\r\n  changeStatus(status: Movie['status']): void {\r\n    if (!this.movie) return;\r\n    \r\n    const updatedMovie: Movie = { ...this.movie, status };\r\n    this.loading = true;\r\n    this.movieService.updateMovie(this.movie.id, updatedMovie).subscribe({\r\n      next: (movie) => {\r\n        this.movie = movie;\r\n        this.loading = false;\r\n      },\r\n      error: (error) => {\r\n        console.error('Error updating movie status:', error);\r\n        this.error = 'Failed to update movie status. Please try again.';\r\n        this.loading = false;\r\n      }\r\n    });\r\n  }\r\n\r\n  editMovie(): void {\r\n    if (!this.movie) return;\r\n    this.router.navigate(['/movies/edit', this.movie.id]);\r\n  }\r\n\r\n  deleteMovie(): void {\r\n    if (!this.movie) return;\r\n    \r\n    if (confirm('Are you sure you want to delete this movie?')) {\r\n      this.movieService.deleteMovie(this.movie.id).subscribe({\r\n        next: () => {\r\n          this.router.navigate(['/movies/wishlist']);\r\n        },\r\n        error: (error) => {\r\n          console.error('Error deleting movie:', error);\r\n        }\r\n      });\r\n    }\r\n  }\r\n}","<div class=\"container\" *ngIf=\"movie\">\r\n  <div class=\"loading-spinner\" *ngIf=\"loading\">\r\n    <div class=\"spinner-border text-primary\" role=\"status\">\r\n      <span class=\"visually-hidden\">Loading...</span>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"alert alert-danger\" *ngIf=\"error\">\r\n    {{ error }}\r\n  </div>\r\n\r\n  <div class=\"movie-detail\" *ngIf=\"movie && !loading\">\r\n    <div class=\"row\">\r\n      <div class=\"col-md-4\">\r\n        <div class=\"movie-poster\">\r\n          <img *ngIf=\"movie.posterUrl\" [src]=\"movie.posterUrl\" [alt]=\"movie.title\" onerror=\"this.onerror=null; this.src='assets/images/no-poster.png';\">\r\n          <div *ngIf=\"!movie.posterUrl\" class=\"no-poster\">\r\n            <i class=\"material-icons\">movie</i>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-md-8\">\r\n        <div class=\"movie-header\">\r\n          <h1>{{ movie.title }} <span *ngIf=\"movie.releaseYear\">({{ movie.releaseYear }})</span></h1>\r\n          <div class=\"movie-status\">\r\n            <span class=\"badge\" [ngClass]=\"{'wishlist': movie.status === 'WISHLIST', 'watched': movie.status === 'WATCHED'}\">{{ movie.status }}</span>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"movie-info\">\r\n          <p *ngIf=\"movie.genre\"><strong>Genre:</strong> {{ movie.genre }}</p>\r\n          <p *ngIf=\"movie.runtime\"><strong>Runtime:</strong> {{ movie.runtime }} minutes</p>\r\n          <p *ngIf=\"movie.rating\"><strong>Your Rating:</strong> {{ movie.rating }}/10</p>\r\n          <p *ngIf=\"movie.createdAt\"><strong>Added:</strong> {{ movie.createdAt | date:'medium' }}</p>\r\n          <p *ngIf=\"movie.updatedAt\"><strong>Last Updated:</strong> {{ movie.updatedAt | date:'medium' }}</p>\r\n        </div>\r\n\r\n        <div class=\"movie-review\" *ngIf=\"movie.review\">\r\n          <h3>Your Review</h3>\r\n          <p>{{ movie.review }}</p>\r\n        </div>\r\n\r\n        <div class=\"movie-actions\">\r\n          <button class=\"btn btn-primary\" (click)=\"editMovie()\">\r\n            <i class=\"material-icons\">edit</i> Edit\r\n          </button>\r\n          <button class=\"btn btn-danger\" (click)=\"deleteMovie()\">\r\n            <i class=\"material-icons\">delete</i> Delete\r\n          </button>\r\n          <button *ngIf=\"movie.status === 'WISHLIST'\" class=\"btn btn-success\" (click)=\"changeStatus('WATCHED')\">\r\n            <i class=\"material-icons\">visibility</i> Mark as Watched\r\n          </button>\r\n          <button *ngIf=\"movie.status === 'WATCHED'\" class=\"btn btn-warning\" (click)=\"changeStatus('WISHLIST')\">\r\n            <i class=\"material-icons\">bookmark</i> Move to Wishlist\r\n          </button>\r\n        </div>\r\n\r\n        <div class=\"movie-social\">\r\n          <div class=\"likes\">\r\n            <button class=\"btn-like\" [ngClass]=\"{'liked': movie.userLiked}\" (click)=\"toggleLike()\">\r\n              <i class=\"material-icons\">favorite</i>\r\n              <span>{{ movie.likesCount || 0 }} likes</span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"comments-section\">\r\n      <h3>Comments ({{ comments.length }})</h3>\r\n      \r\n      <form [formGroup]=\"commentForm\" (ngSubmit)=\"submitComment()\" class=\"comment-form\">\r\n        <div class=\"mb-3\">\r\n          <textarea \r\n            formControlName=\"content\" \r\n            class=\"form-control\" \r\n            rows=\"3\" \r\n            placeholder=\"Write a comment...\"\r\n            [ngClass]=\"{ 'is-invalid': commentForm.get('content')?.invalid && commentForm.get('content')?.touched }\"\r\n          ></textarea>\r\n          <div class=\"invalid-feedback\" *ngIf=\"commentForm.get('content')?.errors?.['required']\">\r\n            Comment cannot be empty.\r\n          </div>\r\n          <div class=\"invalid-feedback\" *ngIf=\"commentForm.get('content')?.errors?.['maxlength']\">\r\n            Comment cannot exceed 500 characters.\r\n          </div>\r\n        </div>\r\n        <button \r\n          type=\"submit\" \r\n          class=\"btn btn-primary\" \r\n          [disabled]=\"commentForm.invalid || commentLoading\"\r\n        >\r\n          <span *ngIf=\"commentLoading\" class=\"spinner-border spinner-border-sm me-1\"></span>\r\n          Post Comment\r\n        </button>\r\n      </form>\r\n\r\n      <div class=\"comments-list\">\r\n        <div class=\"comment\" *ngFor=\"let comment of comments\">\r\n          <div class=\"comment-header\">\r\n            <span class=\"comment-author\">{{ comment.username }}</span>\r\n            <span class=\"comment-date\">{{ comment.createdAt | date:'medium' }}</span>\r\n          </div>\r\n          <div class=\"comment-content\">\r\n            {{ comment.content }}\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"no-comments\" *ngIf=\"comments.length === 0\">\r\n          <p>No comments yet. Be the first to comment!</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"container\" *ngIf=\"!movie && !loading && !error\">\r\n  <div class=\"not-found\">\r\n    <i class=\"material-icons\">movie_filter</i>\r\n    <h2>Movie Not Found</h2>\r\n    <p>The movie you're looking for doesn't exist or has been removed.</p>\r\n    <button class=\"btn btn-primary\" routerLink=\"/movies/wishlist\">Back to Wishlist</button>\r\n  </div>\r\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}